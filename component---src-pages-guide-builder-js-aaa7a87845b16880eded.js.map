{"version":3,"sources":["webpack:///./node_modules/core-js/internals/use-symbol-as-uid.js","webpack:///./node_modules/warning/warning.js","webpack:///./node_modules/core-js/internals/object-keys.js","webpack:///./node_modules/core-js/internals/is-array.js","webpack:///./node_modules/core-js/internals/function-bind-context.js","webpack:///./node_modules/core-js/modules/es.array.flat.js","webpack:///./node_modules/tabbable/index.js","webpack:///./node_modules/core-js/internals/html.js","webpack:///./node_modules/core-js/internals/a-function.js","webpack:///./node_modules/core-js/internals/object-define-properties.js","webpack:///./node_modules/core-js/modules/es.array.unscopables.flat.js","webpack:///./node_modules/core-js/internals/add-to-unscopables.js","webpack:///./node_modules/core-js/internals/native-symbol.js","webpack:///./node_modules/core-js/internals/array-species-create.js","webpack:///./node_modules/@reach/listbox/node_modules/@reach/utils/dist/utils.esm.js","webpack:///./node_modules/@reach/listbox/node_modules/@reach/auto-id/dist/auto-id.esm.js","webpack:///./node_modules/@reach/listbox/node_modules/@reach/portal/dist/portal.esm.js","webpack:///./node_modules/@reach/observe-rect/dist/observe-rect.esm.js","webpack:///./node_modules/@reach/listbox/node_modules/@reach/rect/dist/rect.esm.js","webpack:///./node_modules/@reach/listbox/node_modules/@reach/popover/dist/popover.esm.js","webpack:///./node_modules/@xstate/fsm/es/index.js","webpack:///./node_modules/@reach/listbox/node_modules/@reach/descendants/dist/descendants.esm.js","webpack:///./node_modules/@reach/machine/node_modules/@reach/utils/dist/utils.esm.js","webpack:///./node_modules/@reach/machine/dist/machine.esm.js","webpack:///./node_modules/@reach/listbox/dist/listbox.esm.js","webpack:///./node_modules/@reach/visually-hidden/dist/visually-hidden.esm.js","webpack:///./src/styles/form/checkable.js","webpack:///./src/components/filter.js","webpack:///./src/components/filters.js","webpack:///./src/components/search.js","webpack:///./src/styles/form/form.js","webpack:///./src/styles/form/group.js","webpack:///./src/styles/form/label.js","webpack:///./src/pages/guide-builder.js","webpack:///./node_modules/core-js/internals/to-object.js","webpack:///./node_modules/core-js/internals/object-create.js","webpack:///./node_modules/core-js/internals/flatten-into-array.js","webpack:///./node_modules/core-js/internals/well-known-symbol.js"],"names":["NATIVE_SYMBOL","module","exports","Symbol","sham","iterator","warning","internalObjectKeys","enumBugKeys","Object","keys","O","classof","Array","isArray","arg","aFunction","fn","that","length","undefined","call","a","b","c","apply","arguments","$","flattenIntoArray","toObject","toLength","toInteger","arraySpeciesCreate","target","proto","flat","depthArg","this","sourceLen","A","candidateSelectors","candidateSelector","join","matches","Element","prototype","msMatchesSelector","webkitMatchesSelector","tabbable","el","options","i","candidate","candidateTabindex","regularTabbables","orderedTabbables","candidates","querySelectorAll","includeContainer","slice","unshift","isNodeMatchingSelectorTabbable","getTabindex","push","documentOrder","tabIndex","node","sort","sortOrderedTabbables","map","concat","isNodeMatchingSelectorFocusable","isInput","type","isRadio","name","checked","nodes","getCheckedRadio","ownerDocument","isTabbableRadio","isNonTabbableRadio","disabled","isHiddenInput","offsetParent","getComputedStyle","visibility","isHidden","isTabbable","Error","isFocusable","focusableCandidateSelector","tabindexAttr","parseInt","getAttribute","isNaN","contentEditable","isContentEditable","tagName","getBuiltIn","it","TypeError","String","DESCRIPTORS","definePropertyModule","anObject","objectKeys","defineProperties","Properties","key","index","f","addToUnscopables","wellKnownSymbol","create","UNSCOPABLES","ArrayPrototype","configurable","value","fails","getOwnPropertySymbols","isObject","SPECIES","originalArray","C","constructor","useIsomorphicLayoutEffect","canUseDOM","useLayoutEffect","useEffect","window","Math","self","assignRef","ref","isFunction","current","error","document","createElement","createNamedContext","defaultValue","Ctx","displayName","forwardRefWithAs","render","forwardRef","memoWithAs","Component","propsAreEqual","memo","getOwnerDocument","element","isBoolean","toString","isRightClick","nativeEvent","which","button","makeId","_len2","args","_key2","filter","val","noop","useControlledSwitchWarning","useCheckStyles","useForceUpdate","dispatch","useForkedRef","_len4","refs","_key4","every","forEach","wrapEvent","theirHandler","ourHandler","event","defaultPrevented","serverHandoffComplete","genId","idFromProps","initialId","_useState","id","setId","rafId","_ref","children","_ref$type","mountNode","portalNode","forceUpdate","body","appendChild","removeChild","observedNodes","Map","run","changedStates","state","newRect","getBoundingClientRect","some","prop","rectChanged","rect","callbacks","cb","requestAnimationFrame","observe","wasEmpty","size","has","get","set","hasRectChanged","unobserve","indexOf","splice","cancelAnimationFrame","useRect","nodeRef","onChange","setElement","initialRectIsSet","initialRefIsSet","_useState2","setRect","onChangeRef","observer","elem","cleanup","_extends","assign","source","hasOwnProperty","props","forwardedRef","targetRef","_ref$position","position","positionDefault","_ref$unstable_observa","unstable_observableRefs","excluded","sourceKeys","_objectWithoutPropertiesLoose","popoverRef","popoverRect","hidden","targetRect","triggerRef","handleKeyDown","shiftKey","elementAfterTrigger","getElementAfterTrigger","shiftTabbedFromElementAfterTrigger","elements","last","preventDefault","focus","focusLastTabbableInPopover","shiftTabbedOutOfPopover","_triggerRef$current","focusTriggerRef","shiftTabbedToBrowserChrome","disableTabbablesInPopover","activeElement","focusFirstPopoverTabbable","contains","Boolean","tabbedOutOfPopover","focusTabbableAfterTrigger","tabbedToBrowserChrome","targetIndex","addEventListener","removeEventListener","restoreTabIndexTupl√©s","enableTabbablesInPopover","_ref2","useSimulateTabNavigationForReactTree","style","getStyles","_len","_key","getTopPosition","top","getCollisions","directionUp","height","pageYOffset","left","directionRight","right","width","pageXOffset","positionMatchWidth","offsetLeft","offsetBottom","collisions","innerWidth","bottom","innerHeight","directionLeft","directionDown","t","createDescendantContext","initialValue","descendants","registerDescendant","unregisterDescendant","useDescendant","descendant","context","indexProp","_useContext","findIndex","item","previousDescendants","someDescendantsHaveChanged","_previousDescendants$","values","DescendantProvider","items","explicitIndex","rest","newItems","find","compareDocumentPosition","Node","DOCUMENT_POSITION_PRECEDING","newItem","Provider","NotStarted","Running","Stopped","n","e","r","assignment","exec","o","u","actions","changed","s","useRef","v","_commonEvents","ListboxStates","ListboxEvents","useMachine","initialMachine","DEBUG","machineRef","service","initialState","Set","_machine","send","transition","subscribe","add","unsubscribe","delete","start","stop","clear","lastEventType","currentValue","getServiceState","setState","rawEvent","refValues","entries","reduce","unwrapRefs","newState","useCreateMachine","machineDefinition","config","_options","initial","states","entry","l","p","g","y","on","d","x","cond","m","h","exit","next","done","S","return","clearNavigationValue","navigationValue","clearTypeahead","typeaheadQuery","assignValue","_","data","navigateFromCurrentValue","_data$options$find","selected","option","listboxLostFocus","Blur","_event$refs","list","popover","relatedTarget","clickedOutsideOfListbox","OutsideMouseDown","OutsideMouseUp","_event$refs2","optionIsActive","shouldNavigate","_event$refs3","focusList","focusButton","listboxIsNotDisabled","optionIsNavigable","OptionTouchStart","optionIsSelectable","selectOption","callback","submitForm","KeyDownEnter","hiddenInput","form","submitButton","querySelector","click","setTypeahead","query","setValueFromTypeahead","UpdateAfterTypeahead","match","findOptionFromTypeahead","setNavSelectionFromTypeahead","commonEvents","GetDerivedData","ctx","ValueChange","string","label","toLowerCase","startsWith","ListboxDescendantContext","ListboxContext","ListboxGroupContext","ariaLabelledBy","ariaLabel","_ref$disabled","onChangeProp","required","valueProp","_ref$_componentName","_componentName","isControlled","_useDescendantsInit","setOptions","useCallbackProp","buttonRef","hiddenInputRef","highlightedOptionRef","inputRef","listRef","selectedOptionRef","_useMachine","_extends2","_extends3","_extends4","_extends5","_extends6","_states","Idle","ButtonMouseDown","Open","KeyDownSpace","Navigating","KeyDownSearch","ClearTypeahead","KeyDownNavigate","Interacting","ClearNavSelection","KeyDownEscape","OptionMouseDown","Dragging","OptionMouseEnter","ButtonMouseUp","OptionMouseMove","OptionMouseUp","createMachineDefinition","highlightedOption","input","selectedOption","_id","valueLabel","isExpanded","includes","isListboxExpanded","listboxId","listboxValueLabel","onValueChange","stateData","mounted","first","controlPropValue","internalValue","useControlledStateSync","handleMouseDown","targetIsInPopover","handleMouseUp","expanded","readOnly","_ref4","_ref4$arrow","arrow","_ref4$as","as","Comp","onKeyDown","onMouseDown","onMouseUp","listboxValue","useKeyDown","role","stopPropagation","ListboxArrowImpl","_ref5","ListboxPopoverImpl","_ref6","_ref6$position","onBlur","_ref6$portal","portal","_useContext3","commonProps","_ref7","_ref7$as","_useContext4","_useContext4$stateDat","useOptionId","_ref8","_ref8$as","onMouseEnter","onMouseLeave","onMouseMove","onTouchStart","labelProp","_useContext5","_useContext5$stateDat","labelState","setLabel","ownRef","getLabelFromDomNode","prevState","textContent","isHighlighted","isSelected","_ref9","labelId","_ref10","_ref10$as","_useContext9","listboxDisabled","_useContext9$stateDat","timeout","setTimeout","clearTimeout","_ref11","isSearching","navOption","eventType","KeyDownShiftTab","KeyDownTab","currentIndex","_options$key","_options$orientation","orientation","_options$rotate","rotate","_options$rtl","rtl","selectableDescendants","getNextOption","prev","getPreviousOption","nextOrPrev","prevOrNext","prevOrFirst","ctrlKey","getFirstOption","nextOrLast","getLastOption","useDescendantKeyDown","nextIndex","border","clip","margin","overflow","padding","whiteSpace","wordWrap","_rgba","stylizeFunction","rgba","FormCheckableElement","title","className","textPlacement","hideText","htmlFor","FormCheckableControl","FormCheckableText","defaultProps","formCheckableWrapper","css","styled","span","visuallyHidden","FormCheckable","themeVal","invalid","FormCheckableGroup","div","FilterItem","ListboxOption","FilterListHeader","ListboxGroupLabel","FilterButton","ListboxButton","antialiased","FilterPopover","ListboxPopover","Filter","setFilter","selectedIds","aria-labelledby","FilterSection","section","media","mediumUp","FilterHeading","h5","FilterChips","FilterChip","aside","ChipHeading","ChipButton","Button","initialFilterState","methods","activities","orgSize","approaches","remoteOptions","Filters","fullGuide","activitiesInCustomGuide","setGuide","useState","selectedFilters","allActivities","setAllActivities","activity","filters","guide","propertyTests","methodIds","newGuide","method","filterDoesNotApply","createGuides","from","selectedActivities","maxNumber","max","approach","propertyTest","variation","onClick","filterKey","filterValues","SearchFilters","SearchHeading","Search","setNoResults","searchTerm","setSearchTerm","onSubmit","filteredMethodList","methodId","placeholder","Form","FormGroup","divide","FormGroupHeader","FormGroupBody","LabelHint","small","FormLabel","optional","SplitPanels","InpageInnerColumns","Panel","Card","InpageTitle","GuideSelector","MoreLink","GuideSelected","MethodHeading","ActivitiesSelector","largeUp","ActivitiesHeading","h4","ActivityLine","ActivityTitle","ActivityCheckable","ExportButtons","GuideBuilder","location","useAllGuideData","fixedSections","isNoResults","setActivitiesInCustomGuide","isCustomGuideLoading","setCustomGuideLoader","isFullGuideLoading","setFullGuideLoader","useQueryParams","setQuery","search","qs","queryString","parse","checkedActivities","split","curr","pickBy","allSelectedActivities","activityArray","selectMultipleActivities","allOrNone","newActivities","withDeco","columnLayout","summary","excerpt","to","slug","prevPath","pathname","prevPage","fieldId","prepareGuide","isSpinning","spinnerColor","requireObjectCoercible","argument","activeXDocument","hiddenKeys","html","documentCreateElement","sharedKey","IE_PROTO","EmptyConstructor","scriptTag","content","LT","NullProtoObject","domain","ActiveXObject","iframeDocument","iframe","write","close","temp","parentWindow","NullProtoObjectViaActiveX","display","src","contentWindow","open","F","result","bind","original","depth","mapper","thisArg","sourceIndex","mapFn","global","shared","uid","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter"],"mappings":"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","file":"component---src-pages-guide-builder-js-aaa7a87845b16880eded.js","sourcesContent":["var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 1 ? len - 1 : 0);\n    for (var key = 1; key < len; key++) {\n      args[key - 1] = arguments[key];\n    }\n    var argIndex = 0;\n    var message = 'Warning: ' +\n      format.replace(/%s/g, function() {\n        return args[argIndex++];\n      });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  }\n\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n          '`warning(condition, format, ...args)` requires a warning ' +\n          'message argument'\n      );\n    }\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flat` method\n// https://github.com/tc39/proposal-flatMap\n$({ target: 'Array', proto: true }, {\n  flat: function flat(/* depthArg = 1 */) {\n    var depthArg = arguments.length ? arguments[0] : undefined;\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toInteger(depthArg));\n    return A;\n  }\n});\n","var candidateSelectors = ['input', 'select', 'textarea', 'a[href]', 'button', '[tabindex]', 'audio[controls]', 'video[controls]', '[contenteditable]:not([contenteditable=\"false\"])'];\nvar candidateSelector = candidateSelectors.join(',');\nvar matches = typeof Element === 'undefined' ? function () {} : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\nfunction tabbable(el, options) {\n  options = options || {};\n  var regularTabbables = [];\n  var orderedTabbables = [];\n  var candidates = el.querySelectorAll(candidateSelector);\n\n  if (options.includeContainer) {\n    if (matches.call(el, candidateSelector)) {\n      candidates = Array.prototype.slice.apply(candidates);\n      candidates.unshift(el);\n    }\n  }\n\n  var i, candidate, candidateTabindex;\n\n  for (i = 0; i < candidates.length; i++) {\n    candidate = candidates[i];\n    if (!isNodeMatchingSelectorTabbable(candidate)) continue;\n    candidateTabindex = getTabindex(candidate);\n\n    if (candidateTabindex === 0) {\n      regularTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        node: candidate\n      });\n    }\n  }\n\n  var tabbableNodes = orderedTabbables.sort(sortOrderedTabbables).map(function (a) {\n    return a.node;\n  }).concat(regularTabbables);\n  return tabbableNodes;\n}\n\ntabbable.isTabbable = isTabbable;\ntabbable.isFocusable = isFocusable;\n\nfunction isNodeMatchingSelectorTabbable(node) {\n  if (!isNodeMatchingSelectorFocusable(node) || isNonTabbableRadio(node) || getTabindex(node) < 0) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction isTabbable(node) {\n  if (!node) throw new Error('No node provided');\n  if (matches.call(node, candidateSelector) === false) return false;\n  return isNodeMatchingSelectorTabbable(node);\n}\n\nfunction isNodeMatchingSelectorFocusable(node) {\n  if (node.disabled || isHiddenInput(node) || isHidden(node)) {\n    return false;\n  }\n\n  return true;\n}\n\nvar focusableCandidateSelector = candidateSelectors.concat('iframe').join(',');\n\nfunction isFocusable(node) {\n  if (!node) throw new Error('No node provided');\n  if (matches.call(node, focusableCandidateSelector) === false) return false;\n  return isNodeMatchingSelectorFocusable(node);\n}\n\nfunction getTabindex(node) {\n  var tabindexAttr = parseInt(node.getAttribute('tabindex'), 10);\n  if (!isNaN(tabindexAttr)) return tabindexAttr; // Browsers do not return `tabIndex` correctly for contentEditable nodes;\n  // so if they don't have a tabindex attribute specifically set, assume it's 0.\n\n  if (isContentEditable(node)) return 0;\n  return node.tabIndex;\n}\n\nfunction sortOrderedTabbables(a, b) {\n  return a.tabIndex === b.tabIndex ? a.documentOrder - b.documentOrder : a.tabIndex - b.tabIndex;\n}\n\nfunction isContentEditable(node) {\n  return node.contentEditable === 'true';\n}\n\nfunction isInput(node) {\n  return node.tagName === 'INPUT';\n}\n\nfunction isHiddenInput(node) {\n  return isInput(node) && node.type === 'hidden';\n}\n\nfunction isRadio(node) {\n  return isInput(node) && node.type === 'radio';\n}\n\nfunction isNonTabbableRadio(node) {\n  return isRadio(node) && !isTabbableRadio(node);\n}\n\nfunction getCheckedRadio(nodes) {\n  for (var i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked) {\n      return nodes[i];\n    }\n  }\n}\n\nfunction isTabbableRadio(node) {\n  if (!node.name) return true; // This won't account for the edge case where you have radio groups with the same\n  // in separate forms on the same page.\n\n  var radioSet = node.ownerDocument.querySelectorAll('input[type=\"radio\"][name=\"' + node.name + '\"]');\n  var checked = getCheckedRadio(radioSet);\n  return !checked || checked === node;\n}\n\nfunction isHidden(node) {\n  // offsetParent being null will allow detecting cases where an element is invisible or inside an invisible element,\n  // as long as the element does not use position: fixed. For them, their visibility has to be checked directly as well.\n  return node.offsetParent === null || getComputedStyle(node).visibility === 'hidden';\n}\n\nmodule.exports = tabbable;","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\naddToUnscopables('flat');\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","import React, { isValidElement, cloneElement, createContext, useRef, useState, useCallback, useEffect, useMemo } from 'react';\nexport { default as warning } from 'warning';\n/* eslint-disable no-restricted-globals, eqeqeq  */\n\n/**\r\n * React currently throws a warning when using useLayoutEffect on the server.\r\n * To get around it, we can conditionally useEffect on the server (no-op) and\r\n * useLayoutEffect in the browser. We occasionally need useLayoutEffect to\r\n * ensure we don't get a render flash for certain operations, but we may also\r\n * need affected components to render on the server. One example is when setting\r\n * a component's descendants to retrieve their index values.\r\n *\r\n * Important to note that using this hook as an escape hatch will break the\r\n * eslint dependency warnings unless you rename the import to `useLayoutEffect`.\r\n * Use sparingly only when the effect won't effect the rendered HTML to avoid\r\n * any server/client mismatch.\r\n *\r\n * If a useLayoutEffect is needed and the result would create a mismatch, it's\r\n * likely that the component in question shouldn't be rendered on the server at\r\n * all, so a better approach would be to lazily render those in a parent\r\n * component after client-side hydration.\r\n *\r\n * TODO: We are calling useLayoutEffect in a couple of places that will likely\r\n * cause some issues for SSR users, whether the warning shows or not. Audit and\r\n * fix these.\r\n *\r\n * https://gist.github.com/gaearon/e7d97cdf38a2907924ea12e4ebdf3c85\r\n * https://github.com/reduxjs/react-redux/blob/master/src/utils/useIsomorphicLayoutEffect.js\r\n *\r\n * @param effect\r\n * @param deps\r\n */\n\nvar useIsomorphicLayoutEffect = /*#__PURE__*/canUseDOM() ? React.useLayoutEffect : React.useEffect;\nvar checkedPkgs = {};\n/**\r\n * When in dev mode, checks that styles for a given @reach package are loaded.\r\n *\r\n * @param packageName Name of the package to check.\r\n * @example checkStyles(\"dialog\") will check for styles for @reach/dialog\r\n */\n// @ts-ignore\n\nvar checkStyles = noop;\n\nif (process.env.NODE_ENV !== \"production\") {\n  // In CJS files, process.env.NODE_ENV is stripped from our build, but we need\n  // it to prevent style checks from clogging up user logs while testing.\n  // This is a workaround until we can tweak the build a bit to accommodate.\n  var _ref = typeof process !== \"undefined\" ? process : {\n    env: {\n      NODE_ENV: \"development\"\n    }\n  },\n      env = _ref.env;\n\n  checkStyles = function checkStyles(packageName) {\n    // only check once per package\n    if (checkedPkgs[packageName]) return;\n    checkedPkgs[packageName] = true;\n\n    if (env.NODE_ENV !== \"test\" && parseInt(window.getComputedStyle(document.body).getPropertyValue(\"--reach-\" + packageName), 10) !== 1) {\n      console.warn(\"@reach/\" + packageName + \" styles not found. If you are using a bundler like webpack or parcel include this in the entry file of your app before any of your own styles:\\n\\n    import \\\"@reach/\" + packageName + \"/styles.css\\\";\\n\\n  Otherwise you'll need to include them some other way:\\n\\n    <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"node_modules/@reach/\" + packageName + \"/styles.css\\\" />\\n\\n  For more information visit https://ui.reach.tech/styling.\\n  \");\n    }\n  };\n}\n/**\r\n * Ponyfill for the global object in some environments.\r\n *\r\n * @link https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\r\n */\n\n\nvar ponyfillGlobal = typeof window != \"undefined\" && window.Math == Math ? window : typeof self != \"undefined\" && self.Math == Math ? self :\n/*#__PURE__*/\n// eslint-disable-next-line no-new-func\nFunction(\"return this\")();\n/**\r\n * Passes or assigns an arbitrary value to a ref function or object.\r\n *\r\n * @param ref\r\n * @param value\r\n */\n\nfunction assignRef(ref, value) {\n  if (ref == null) return;\n\n  if (isFunction(ref)) {\n    ref(value);\n  } else {\n    try {\n      ref.current = value;\n    } catch (error) {\n      throw new Error(\"Cannot assign value \\\"\" + value + \"\\\" to ref \\\"\" + ref + \"\\\"\");\n    }\n  }\n}\n/**\r\n * Checks true|\"true\" vs false|\"false\"\r\n *\r\n * @param value\r\n */\n\n\nfunction boolOrBoolString(value) {\n  return value === \"true\" ? true : isBoolean(value) ? value : false;\n}\n\nfunction canUseDOM() {\n  return !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\n}\n/**\r\n * Type-safe clone element\r\n *\r\n * @param element\r\n * @param props\r\n * @param children\r\n */\n\n\nfunction cloneValidElement(element, props) {\n  for (var _len = arguments.length, children = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    children[_key - 2] = arguments[_key];\n  }\n\n  return isValidElement(element) ? cloneElement.apply(void 0, [element, props].concat(children)) : element;\n}\n\nfunction createNamedContext(name, defaultValue) {\n  var Ctx = createContext(defaultValue);\n  Ctx.displayName = name;\n  return Ctx;\n}\n/**\r\n * This is a hack for sure. The thing is, getting a component to intelligently\r\n * infer props based on a component or JSX string passed into an `as` prop is\r\n * kind of a huge pain. Getting it to work and satisfy the constraints of\r\n * `forwardRef` seems dang near impossible. To avoid needing to do this awkward\r\n * type song-and-dance every time we want to forward a ref into a component\r\n * that accepts an `as` prop, we abstract all of that mess to this function for\r\n * the time time being.\r\n */\n\n\nfunction forwardRefWithAs(render) {\n  return React.forwardRef(render);\n}\n\nfunction memoWithAs(Component, propsAreEqual) {\n  return React.memo(Component, propsAreEqual);\n}\n/**\r\n * Get the size of the working document minus the scrollbar offset.\r\n *\r\n * @param element\r\n */\n\n\nfunction getDocumentDimensions(element) {\n  if (!canUseDOM()) return {\n    width: 0,\n    height: 0\n  };\n  var doc = element ? getOwnerDocument(element) : document;\n  var win = element ? getOwnerWindow(element) : window;\n  return {\n    width: doc.documentElement.clientWidth || win.innerWidth,\n    height: doc.documentElement.clientHeight || win.innerHeight\n  };\n}\n/**\r\n * Get the scoll position of the global window object relative to a given node.\r\n *\r\n * @param element\r\n */\n\n\nfunction getScrollPosition(element) {\n  if (!canUseDOM()) return {\n    scrollX: 0,\n    scrollY: 0\n  };\n  var win = element ? getOwnerWindow(element) : window;\n  return {\n    scrollX: win.scrollX,\n    scrollY: win.scrollY\n  };\n}\n/**\r\n * Get a computed style value by property, backwards compatible with IE\r\n * @param element\r\n * @param styleProp\r\n */\n\n\nfunction getElementComputedStyle(element, styleProp) {\n  var y = null;\n  var doc = getOwnerDocument(element);\n\n  if (element.currentStyle) {\n    y = element.currentStyle[styleProp];\n  } else if (doc && doc.defaultView && isFunction(doc.defaultView.getComputedStyle)) {\n    y = doc.defaultView.getComputedStyle(element, null).getPropertyValue(styleProp);\n  }\n\n  return y;\n}\n/**\r\n * Get an element's owner document. Useful when components are used in iframes\r\n * or other environments like dev tools.\r\n *\r\n * @param element\r\n */\n\n\nfunction getOwnerDocument(element) {\n  return element && element.ownerDocument ? element.ownerDocument : canUseDOM() ? document : null;\n}\n\nfunction getOwnerWindow(element) {\n  var doc = element ? getOwnerDocument(element) : null;\n  return doc ? doc.defaultView || window : null;\n}\n/**\r\n * Get the scrollbar offset distance.\r\n *\r\n * TODO: Remove in 1.0 (we used this in public examples)\r\n */\n\n\nfunction getScrollbarOffset() {\n  try {\n    if (window.innerWidth > document.documentElement.clientWidth) {\n      return window.innerWidth - document.documentElement.clientWidth;\n    }\n  } catch (err) {}\n\n  return 0;\n}\n/**\r\n * Checks whether or not a value is a boolean.\r\n *\r\n * @param value\r\n */\n\n\nfunction isBoolean(value) {\n  return typeof value === \"boolean\";\n}\n/**\r\n * Checks whether or not a value is a function.\r\n *\r\n * @param value\r\n */\n\n\nfunction isFunction(value) {\n  return !!(value && {}.toString.call(value) == \"[object Function]\");\n}\n/**\r\n * Checks whether or not a value is a number.\r\n *\r\n * @param value\r\n */\n\n\nfunction isNumber(value) {\n  return typeof value === \"number\" && !isNaN(value);\n}\n/**\r\n * Detects right clicks\r\n *\r\n * @param nativeEvent\r\n */\n\n\nfunction isRightClick(nativeEvent) {\n  return \"which\" in nativeEvent ? nativeEvent.which === 3 : \"button\" in nativeEvent ? nativeEvent.button === 2 : false;\n}\n/**\r\n * Checks whether or not a value is a string.\r\n *\r\n * @param value\r\n */\n\n\nfunction isString(value) {\n  return typeof value === \"string\";\n}\n/**\r\n * Joins strings to format IDs for compound components.\r\n *\r\n * @param args\r\n */\n\n\nfunction makeId() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  return args.filter(function (val) {\n    return val != null;\n  }).join(\"--\");\n}\n/**\r\n * No-op function.\r\n */\n\n\nfunction noop() {}\n/**\r\n * Convert our state strings for HTML data attributes.\r\n * No need for a fancy kebab-caser here, we know what our state strings are!\r\n *\r\n * @param state\r\n */\n\n\nfunction stateToAttributeString(state) {\n  return String(state).replace(/([\\s_]+)/g, \"-\").toLowerCase();\n}\n/**\r\n * Check if a component is controlled or uncontrolled and return the correct\r\n * state value and setter accordingly. If the component state is controlled by\r\n * the app, the setter is a noop.\r\n *\r\n * @param controlledValue\r\n * @param defaultValue\r\n */\n\n\nfunction useControlledState(controlledValue, defaultValue) {\n  var controlledRef = useRef(controlledValue != null);\n\n  var _useState = useState(defaultValue),\n      valueState = _useState[0],\n      setValue = _useState[1];\n\n  var set = useCallback(function (n) {\n    if (!controlledRef.current) {\n      setValue(n);\n    }\n  }, []);\n  return [controlledRef.current ? controlledValue : valueState, set];\n}\n/**\r\n * Logs a warning in dev mode when a component switches from controlled to\r\n * uncontrolled, or vice versa\r\n *\r\n * A single prop should typically be used to determine whether or not a\r\n * component is controlled or not.\r\n *\r\n * @param controlledValue\r\n * @param controlledPropName\r\n * @param componentName\r\n */\n\n\nvar useControlledSwitchWarning = noop;\n\nif (process.env.NODE_ENV !== \"production\") {\n  useControlledSwitchWarning = function useControlledSwitchWarning(controlledValue, controlledPropName, componentName) {\n    var controlledRef = useRef(controlledValue != null);\n    var nameCache = useRef({\n      componentName: componentName,\n      controlledPropName: controlledPropName\n    });\n    useEffect(function () {\n      nameCache.current = {\n        componentName: componentName,\n        controlledPropName: controlledPropName\n      };\n    }, [componentName, controlledPropName]);\n    useEffect(function () {\n      var wasControlled = controlledRef.current;\n      var _nameCache$current = nameCache.current,\n          componentName = _nameCache$current.componentName,\n          controlledPropName = _nameCache$current.controlledPropName;\n      var isControlled = controlledValue != null;\n\n      if (wasControlled !== isControlled) {\n        console.error(\"A component is changing an \" + (wasControlled ? \"\" : \"un\") + \"controlled `\" + controlledPropName + \"` state of \" + componentName + \" to be \" + (wasControlled ? \"un\" : \"\") + \"controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled \" + componentName + \" element for the lifetime of the component.\\nMore info: https://fb.me/react-controlled-components\");\n      }\n    }, [controlledValue]);\n  };\n}\n\nvar useCheckStyles = noop;\n\nif (process.env.NODE_ENV !== \"production\") {\n  useCheckStyles = function useCheckStyles(pkg) {\n    var name = useRef(pkg);\n    useEffect(function () {\n      return void (name.current = pkg);\n    }, [pkg]);\n    useEffect(function () {\n      return checkStyles(name.current);\n    }, []);\n  };\n}\n/**\r\n * React hook for creating a value exactly once.\r\n * @see https://github.com/Andarist/use-constant\r\n */\n\n\nfunction useConstant(fn) {\n  var ref = React.useRef();\n\n  if (!ref.current) {\n    ref.current = {\n      v: fn()\n    };\n  }\n\n  return ref.current.v;\n}\n/**\r\n * @param callback\r\n */\n\n\nfunction useEventCallback(callback) {\n  var ref = useRef(callback);\n  useIsomorphicLayoutEffect(function () {\n    ref.current = callback;\n  });\n  return useCallback(function (event) {\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n\n    return ref.current.apply(ref, [event].concat(args));\n  }, []);\n}\n/**\r\n * @param callback\r\n */\n\n\nfunction useCallbackProp(callback) {\n  var ref = useRef(callback);\n  useEffect(function () {\n    ref.current = callback;\n  });\n  return useCallback(function () {\n    return ref.current && ref.current.apply(ref, arguments);\n  }, []);\n}\n/**\r\n * Adds a DOM event listener\r\n *\r\n * @param eventName\r\n * @param listener\r\n * @param element\r\n */\n\n\nfunction useEventListener(eventName, listener, element) {\n  if (element === void 0) {\n    element = window;\n  }\n\n  var savedHandler = useRef(listener);\n  useEffect(function () {\n    savedHandler.current = listener;\n  }, [listener]);\n  useEffect(function () {\n    var isSupported = element && element.addEventListener;\n\n    if (!isSupported) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.warn(\"Event listener not supported on the element provided\");\n      }\n\n      return;\n    }\n\n    function eventListener(event) {\n      savedHandler.current(event);\n    }\n\n    element.addEventListener(eventName, eventListener);\n    return function () {\n      element.removeEventListener(eventName, eventListener);\n    };\n  }, [eventName, element]);\n}\n/**\r\n * Detect when focus changes in our document.\r\n *\r\n * @param handleChange\r\n * @param when\r\n * @param ownerDocument\r\n */\n\n\nfunction useFocusChange(handleChange, when, ownerDocument) {\n  if (handleChange === void 0) {\n    handleChange = console.log;\n  }\n\n  if (when === void 0) {\n    when = \"focus\";\n  }\n\n  if (ownerDocument === void 0) {\n    ownerDocument = document;\n  }\n\n  var lastActiveElement = useRef(ownerDocument.activeElement);\n  useEffect(function () {\n    lastActiveElement.current = ownerDocument.activeElement;\n\n    function onChange(event) {\n      if (lastActiveElement.current !== ownerDocument.activeElement) {\n        handleChange(ownerDocument.activeElement, lastActiveElement.current, event);\n        lastActiveElement.current = ownerDocument.activeElement;\n      }\n    }\n\n    ownerDocument.addEventListener(when, onChange, true);\n    return function () {\n      ownerDocument.removeEventListener(when, onChange);\n    };\n  }, [when, handleChange, ownerDocument]);\n}\n/**\r\n * Forces a re-render, similar to `forceUpdate` in class components.\r\n */\n\n\nfunction useForceUpdate() {\n  var _useState2 = useState(Object.create(null)),\n      dispatch = _useState2[1];\n\n  return useCallback(function () {\n    dispatch(Object.create(null));\n  }, []);\n}\n/**\r\n * Passes or assigns a value to multiple refs (typically a DOM node). Useful for\r\n * dealing with components that need an explicit ref for DOM calculations but\r\n * also forwards refs assigned by an app.\r\n *\r\n * @param refs Refs to fork\r\n */\n\n\nfunction useForkedRef() {\n  for (var _len4 = arguments.length, refs = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    refs[_key4] = arguments[_key4];\n  }\n\n  return useMemo(function () {\n    if (refs.every(function (ref) {\n      return ref == null;\n    })) {\n      return null;\n    }\n\n    return function (node) {\n      refs.forEach(function (ref) {\n        assignRef(ref, node);\n      });\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [].concat(refs));\n}\n/**\r\n * Returns the previous value of a reference after a component update.\r\n *\r\n * @param value\r\n */\n\n\nfunction usePrevious(value) {\n  var ref = useRef(null);\n  useEffect(function () {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n/**\r\n * Call an effect after a component update, skipping the initial mount.\r\n *\r\n * @param effect Effect to call\r\n * @param deps Effect dependency list\r\n */\n\n\nfunction useUpdateEffect(effect, deps) {\n  var mounted = useRef(false);\n  useEffect(function () {\n    if (mounted.current) {\n      effect();\n    } else {\n      mounted.current = true;\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, deps);\n}\n/**\r\n * Just a lil state logger\r\n *\r\n * @param state\r\n * @param DEBUG\r\n */\n\n\nvar useStateLogger = noop;\n\nif (process.env.NODE_ENV !== \"production\") {\n  useStateLogger = function useStateLogger(state, DEBUG) {\n    if (DEBUG === void 0) {\n      DEBUG = false;\n    }\n\n    var debugRef = useRef(DEBUG);\n    useEffect(function () {\n      debugRef.current = DEBUG;\n    }, [DEBUG]);\n    useEffect(function () {\n      if (debugRef.current) {\n        console.group(\"State Updated\");\n        console.log(\"%c\" + state, \"font-weight: normal; font-size: 120%; font-style: italic;\");\n        console.groupEnd();\n      }\n    }, [state]);\n  };\n}\n/**\r\n * Wraps a lib-defined event handler and a user-defined event handler, returning\r\n * a single handler that allows a user to prevent lib-defined handlers from\r\n * firing.\r\n *\r\n * @param theirHandler User-supplied event handler\r\n * @param ourHandler Library-supplied event handler\r\n */\n\n\nfunction wrapEvent(theirHandler, ourHandler) {\n  return function (event) {\n    theirHandler && theirHandler(event);\n\n    if (!event.defaultPrevented) {\n      return ourHandler(event);\n    }\n  };\n}\n\nexport { assignRef, boolOrBoolString, canUseDOM, checkStyles, cloneValidElement, createNamedContext, forwardRefWithAs, getDocumentDimensions, getElementComputedStyle, getOwnerDocument, getOwnerWindow, getScrollPosition, getScrollbarOffset, isBoolean, isFunction, isNumber, isRightClick, isString, makeId, memoWithAs, noop, ponyfillGlobal, stateToAttributeString, useCallbackProp, useCheckStyles, useConstant, useControlledState, useControlledSwitchWarning, useEventCallback, useEventListener, useFocusChange, useForceUpdate, useForkedRef, useIsomorphicLayoutEffect, usePrevious, useStateLogger, useUpdateEffect, wrapEvent };","import { useState, useEffect } from 'react';\nimport { useIsomorphicLayoutEffect } from '@reach/utils';\n/*\r\n * Welcome to @reach/auto-id!\r\n\n * Let's see if we can make sense of why this hook exists and its\r\n * implementation.\r\n *\r\n * Some background:\r\n *   1. Accessibiliy APIs rely heavily on element IDs\r\n *   2. Requiring developers to put IDs on every element in Reach UI is both\r\n *      cumbersome and error-prone\r\n *   3. With a component model, we can generate IDs for them!\r\n *\r\n * Solution 1: Generate random IDs.\r\n *\r\n * This works great as long as you don't server render your app. When React (in\r\n * the client) tries to reuse the markup from the server, the IDs won't match\r\n * and React will then recreate the entire DOM tree.\r\n *\r\n * Solution 2: Increment an integer\r\n *\r\n * This sounds great. Since we're rendering the exact same tree on the server\r\n * and client, we can increment a counter and get a deterministic result between\r\n * client and server. Also, JS integers can go up to nine-quadrillion. I'm\r\n * pretty sure the tab will be closed before an app never needs\r\n * 10 quadrillion IDs!\r\n *\r\n * Problem solved, right?\r\n *\r\n * Ah, but there's a catch! React's concurrent rendering makes this approach\r\n * non-deterministic. While the client and server will end up with the same\r\n * elements in the end, depending on suspense boundaries (and possibly some user\r\n * input during the initial render) the incrementing integers won't always match\r\n * up.\r\n *\r\n * Solution 3: Don't use IDs at all on the server; patch after first render.\r\n *\r\n * What we've done here is solution 2 with some tricks. With this approach, the\r\n * ID returned is an empty string on the first render. This way the server and\r\n * client have the same markup no matter how wild the concurrent rendering may\r\n * have gotten.\r\n *\r\n * After the render, we patch up the components with an incremented ID. This\r\n * causes a double render on any components with `useId`. Shouldn't be a problem\r\n * since the components using this hook should be small, and we're only updating\r\n * the ID attribute on the DOM, nothing big is happening.\r\n *\r\n * It doesn't have to be an incremented number, though--we could do generate\r\n * random strings instead, but incrementing a number is probably the cheapest\r\n * thing we can do.\r\n *\r\n * Additionally, we only do this patchup on the very first client render ever.\r\n * Any calls to `useId` that happen dynamically in the client will be\r\n * populated immediately with a value. So, we only get the double render after\r\n * server hydration and never again, SO BACK OFF ALRIGHT?\r\n */\n\nvar serverHandoffComplete = false;\nvar id = 0;\n\nvar genId = function genId() {\n  return ++id;\n};\n/**\r\n * useId\r\n *\r\n * Autogenerate IDs to facilitate WAI-ARIA and server rendering.\r\n *\r\n * Note: The returned ID will initially be `null` and will update after a\r\n * component mounts. Users may need to supply their own ID if they need\r\n * consistent values for SSR.\r\n *\r\n * @see Docs https://reach.tech/auto-id\r\n */\n\n\nvar useId = function useId(idFromProps) {\n  /*\r\n   * If this instance isn't part of the initial render, we don't have to do the\r\n   * double render/patch-up dance. We can just generate the ID and return it.\r\n   */\n  var initialId = idFromProps || (serverHandoffComplete ? genId() : null);\n\n  var _useState = useState(initialId),\n      id = _useState[0],\n      setId = _useState[1];\n\n  useIsomorphicLayoutEffect(function () {\n    if (id === null) {\n      /*\r\n       * Patch the ID after render. We do this in `useLayoutEffect` to avoid any\r\n       * rendering flicker, though it'll make the first render slower (unlikely\r\n       * to matter, but you're welcome to measure your app and let us know if\r\n       * it's a problem).\r\n       */\n      setId(genId());\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n  useEffect(function () {\n    if (serverHandoffComplete === false) {\n      /*\r\n       * Flag all future uses of `useId` to skip the update dance. This is in\r\n       * `useEffect` because it goes after `useLayoutEffect`, ensuring we don't\r\n       * accidentally bail out of the patch-up dance prematurely.\r\n       */\n      serverHandoffComplete = true;\n    }\n  }, []);\n  return id != null ? String(id) : undefined;\n};\n\nexport { useId };","import React, { useRef } from 'react';\nimport { useForceUpdate, useIsomorphicLayoutEffect } from '@reach/utils';\nimport { createPortal } from 'react-dom';\n/**\r\n * Welcome to @reach/portal!\r\n *\r\n * Creates and appends a DOM node to the end of `document.body` and renders a\r\n * React tree into it. Useful for rendering a natural React element hierarchy\r\n * with a different DOM hierarchy to prevent parent styles from clipping or\r\n * hiding content (for popovers, dropdowns, and modals).\r\n *\r\n * @see Docs   https://reach.tech/portal\r\n * @see Source https://github.com/reach/reach-ui/tree/main/packages/portal\r\n * @see React  https://reactjs.org/docs/portals.html\r\n */\n\n/**\r\n * Portal\r\n *\r\n * @see Docs https://reach.tech/portal#portal\r\n */\n\nvar Portal = function Portal(_ref) {\n  var children = _ref.children,\n      _ref$type = _ref.type,\n      type = _ref$type === void 0 ? \"reach-portal\" : _ref$type;\n  var mountNode = useRef(null);\n  var portalNode = useRef(null);\n  var forceUpdate = useForceUpdate();\n  useIsomorphicLayoutEffect(function () {\n    // This ref may be null when a hot-loader replaces components on the page\n    if (!mountNode.current) return; // It's possible that the content of the portal has, itself, been portaled.\n    // In that case, it's important to append to the correct document element.\n\n    var ownerDocument = mountNode.current.ownerDocument;\n    portalNode.current = ownerDocument === null || ownerDocument === void 0 ? void 0 : ownerDocument.createElement(type);\n    ownerDocument.body.appendChild(portalNode.current);\n    forceUpdate();\n    return function () {\n      if (portalNode.current && portalNode.current.ownerDocument) {\n        portalNode.current.ownerDocument.body.removeChild(portalNode.current);\n      }\n    };\n  }, [type, forceUpdate]);\n  return portalNode.current ? createPortal(children, portalNode.current) : React.createElement(\"span\", {\n    ref: mountNode\n  });\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  Portal.displayName = \"Portal\";\n}\n\nexport default Portal;","var props = [\"bottom\", \"height\", \"left\", \"right\", \"top\", \"width\"];\n\nvar rectChanged = function rectChanged(a, b) {\n  if (a === void 0) {\n    a = {};\n  }\n\n  if (b === void 0) {\n    b = {};\n  }\n\n  return props.some(function (prop) {\n    return a[prop] !== b[prop];\n  });\n};\n\nvar observedNodes = /*#__PURE__*/new Map();\nvar rafId;\n\nvar run = function run() {\n  var changedStates = [];\n  observedNodes.forEach(function (state, node) {\n    var newRect = node.getBoundingClientRect();\n\n    if (rectChanged(newRect, state.rect)) {\n      state.rect = newRect;\n      changedStates.push(state);\n    }\n  });\n  changedStates.forEach(function (state) {\n    state.callbacks.forEach(function (cb) {\n      return cb(state.rect);\n    });\n  });\n  rafId = window.requestAnimationFrame(run);\n};\n\nfunction observeRect(node, cb) {\n  return {\n    observe: function observe() {\n      var wasEmpty = observedNodes.size === 0;\n\n      if (observedNodes.has(node)) {\n        observedNodes.get(node).callbacks.push(cb);\n      } else {\n        observedNodes.set(node, {\n          rect: undefined,\n          hasRectChanged: false,\n          callbacks: [cb]\n        });\n      }\n\n      if (wasEmpty) run();\n    },\n    unobserve: function unobserve() {\n      var state = observedNodes.get(node);\n\n      if (state) {\n        // Remove the callback\n        var index = state.callbacks.indexOf(cb);\n        if (index >= 0) state.callbacks.splice(index, 1); // Remove the node reference\n\n        if (!state.callbacks.length) observedNodes[\"delete\"](node); // Stop the loop\n\n        if (!observedNodes.size) cancelAnimationFrame(rafId);\n      }\n    }\n  };\n}\n\nexport default observeRect;","import { useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport observeRect from '@reach/observe-rect';\nimport { useIsomorphicLayoutEffect } from '@reach/utils';\n/**\r\n * Welcome to @reach/rect!\r\n *\r\n * Measures DOM elements (aka. bounding client rect).\r\n *\r\n * @see getBoundingClientRect https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect\r\n * @see Docs                  https://reach.tech/rect\r\n * @see Source                https://github.com/reach/reach-ui/tree/main/packages/rect\r\n */\n\n/**\r\n * Rect\r\n *\r\n * @param props\r\n */\n\nvar Rect = function Rect(_ref) {\n  var onChange = _ref.onChange,\n      _ref$observe = _ref.observe,\n      observe = _ref$observe === void 0 ? true : _ref$observe,\n      children = _ref.children;\n  var ref = useRef(null);\n  var rect = useRect(ref, observe, onChange);\n  return children({\n    ref: ref,\n    rect: rect\n  });\n};\n\nif (process.env.NODE_ENV !== \"production\") {\n  Rect.displayName = \"Rect\";\n  Rect.propTypes = {\n    children: PropTypes.func.isRequired,\n    observe: PropTypes.bool,\n    onChange: PropTypes.func\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * useRect\r\n *\r\n * @param nodeRef\r\n * @param observe\r\n * @param onChange\r\n */\n\n\nfunction useRect(nodeRef, observe, onChange) {\n  if (observe === void 0) {\n    observe = true;\n  }\n\n  var _useState = useState(nodeRef.current),\n      element = _useState[0],\n      setElement = _useState[1];\n\n  var initialRectIsSet = useRef(false);\n  var initialRefIsSet = useRef(false);\n\n  var _useState2 = useState(null),\n      rect = _useState2[0],\n      setRect = _useState2[1];\n\n  var onChangeRef = useRef();\n  useIsomorphicLayoutEffect(function () {\n    onChangeRef.current = onChange;\n\n    if (nodeRef.current !== element) {\n      setElement(nodeRef.current);\n    }\n  });\n  useIsomorphicLayoutEffect(function () {\n    if (element && !initialRectIsSet.current) {\n      initialRectIsSet.current = true;\n      setRect(element.getBoundingClientRect());\n    }\n  }, [element]);\n  useIsomorphicLayoutEffect(function () {\n    var observer;\n    var elem = element; // State initializes before refs are placed, meaning the element state will\n    // be undefined on the first render. We still want the rect on the first\n    // render, so initially we'll use the nodeRef that was passed instead of\n    // state for our measurements.\n\n    if (!initialRefIsSet.current) {\n      initialRefIsSet.current = true;\n      elem = nodeRef.current;\n    }\n\n    if (!elem) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.warn(\"You need to place the ref\");\n      }\n\n      return cleanup;\n    }\n\n    observer = observeRect(elem, function (rect) {\n      onChangeRef.current && onChangeRef.current(rect);\n      setRect(rect);\n    });\n    observe && observer.observe();\n    return cleanup;\n\n    function cleanup() {\n      observer && observer.unobserve();\n    }\n  }, [observe, element]);\n  return rect;\n}\n\nexport default Rect;\nexport { Rect, useRect };","import React, { forwardRef, useRef, useEffect } from 'react';\nimport Portal from '@reach/portal';\nimport { useRect } from '@reach/rect';\nimport { useForkedRef, getOwnerDocument } from '@reach/utils';\nimport tabbable from 'tabbable';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n/**\r\n * Popover\r\n */\n\n\nvar Popover = /*#__PURE__*/forwardRef(function Popover(props, ref) {\n  return React.createElement(Portal, null, React.createElement(PopoverImpl, Object.assign({\n    ref: ref\n  }, props)));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  Popover.displayName = \"Popover\";\n}\n/**\r\n * PopoverImpl\r\n *\r\n * Popover is conditionally rendered so we can't start measuring until it shows\r\n * up, so useRect needs to live down here not up in Popover\r\n */\n\n\nvar PopoverImpl = /*#__PURE__*/forwardRef(function PopoverImpl(_ref, forwardedRef) {\n  var targetRef = _ref.targetRef,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? positionDefault : _ref$position,\n      _ref$unstable_observa = _ref.unstable_observableRefs,\n      unstable_observableRefs = _ref$unstable_observa === void 0 ? [] : _ref$unstable_observa,\n      props = _objectWithoutPropertiesLoose(_ref, [\"targetRef\", \"position\", \"unstable_observableRefs\"]);\n\n  var popoverRef = useRef(null);\n  var popoverRect = useRect(popoverRef, !props.hidden);\n  var targetRect = useRect(targetRef, !props.hidden);\n  var ref = useForkedRef(popoverRef, forwardedRef);\n  useSimulateTabNavigationForReactTree(targetRef, popoverRef);\n  return React.createElement(\"div\", Object.assign({\n    \"data-reach-popover\": \"\",\n    ref: ref\n  }, props, {\n    style: _extends({\n      position: \"absolute\"\n    }, getStyles.apply(void 0, [position, targetRect, popoverRect].concat(unstable_observableRefs)), props.style)\n  }));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  PopoverImpl.displayName = \"PopoverImpl\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n\nfunction getStyles(position, targetRect, popoverRect) {\n  for (var _len = arguments.length, unstable_observableRefs = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    unstable_observableRefs[_key - 3] = arguments[_key];\n  }\n\n  return popoverRect ? position.apply(void 0, [targetRect, popoverRect].concat(unstable_observableRefs.map(function (ref) {\n    return ref.current;\n  }))) : {\n    visibility: \"hidden\"\n  };\n}\n\nfunction getTopPosition(targetRect, popoverRect) {\n  var _getCollisions = getCollisions(targetRect, popoverRect),\n      directionUp = _getCollisions.directionUp;\n\n  return {\n    top: directionUp ? targetRect.top - popoverRect.height + window.pageYOffset + \"px\" : targetRect.top + targetRect.height + window.pageYOffset + \"px\"\n  };\n}\n\nvar positionDefault = function positionDefault(targetRect, popoverRect) {\n  if (!targetRect || !popoverRect) {\n    return {};\n  }\n\n  var _getCollisions2 = getCollisions(targetRect, popoverRect),\n      directionRight = _getCollisions2.directionRight;\n\n  return _extends({\n    left: directionRight ? targetRect.right - popoverRect.width + window.pageXOffset + \"px\" : targetRect.left + window.pageXOffset + \"px\"\n  }, getTopPosition(targetRect, popoverRect));\n};\n\nvar positionRight = function positionRight(targetRect, popoverRect) {\n  if (!targetRect || !popoverRect) {\n    return {};\n  }\n\n  var _getCollisions3 = getCollisions(targetRect, popoverRect),\n      directionLeft = _getCollisions3.directionLeft;\n\n  return _extends({\n    left: directionLeft ? targetRect.left + window.pageXOffset + \"px\" : targetRect.right - popoverRect.width + window.pageXOffset + \"px\"\n  }, getTopPosition(targetRect, popoverRect));\n};\n\nvar positionMatchWidth = function positionMatchWidth(targetRect, popoverRect) {\n  if (!targetRect || !popoverRect) {\n    return {};\n  }\n\n  return _extends({\n    width: targetRect.width,\n    left: targetRect.left\n  }, getTopPosition(targetRect, popoverRect));\n};\n\nfunction getCollisions(targetRect, popoverRect, offsetLeft, offsetBottom) {\n  if (offsetLeft === void 0) {\n    offsetLeft = 0;\n  }\n\n  if (offsetBottom === void 0) {\n    offsetBottom = 0;\n  }\n\n  var collisions = {\n    top: targetRect.top - popoverRect.height < 0,\n    right: window.innerWidth < targetRect.left + popoverRect.width - offsetLeft,\n    bottom: window.innerHeight < targetRect.bottom + popoverRect.height - offsetBottom,\n    left: targetRect.left + targetRect.width - popoverRect.width < 0\n  };\n  var directionRight = collisions.right && !collisions.left;\n  var directionLeft = collisions.left && !collisions.right;\n  var directionUp = collisions.bottom && !collisions.top;\n  var directionDown = collisions.top && !collisions.bottom;\n  return {\n    directionRight: directionRight,\n    directionLeft: directionLeft,\n    directionUp: directionUp,\n    directionDown: directionDown\n  };\n} // Heads up, my jQuery past haunts this function. This hook scopes the tab\n// order to the React element tree, instead of the DOM tree. This way, when the\n// user navigates with tab from the targetRef, the tab order moves into the\n// popup, and then out of the popup back to the rest of the document.\n// (We call targetRef, triggerRef inside this function to avoid confusion with\n// event.target)\n\n\nfunction useSimulateTabNavigationForReactTree(triggerRef, popoverRef) {\n  var ownerDocument = getOwnerDocument(triggerRef.current);\n\n  function handleKeyDown(event) {\n    if (event.key === \"Tab\" && popoverRef.current && tabbable(popoverRef.current).length === 0) {\n      return;\n    }\n\n    if (event.key === \"Tab\" && event.shiftKey) {\n      if (shiftTabbedFromElementAfterTrigger(event)) {\n        focusLastTabbableInPopover(event);\n      } else if (shiftTabbedOutOfPopover(event)) {\n        focusTriggerRef(event);\n      } else if (shiftTabbedToBrowserChrome(event)) {\n        disableTabbablesInPopover();\n      }\n    } else if (event.key === \"Tab\") {\n      if (tabbedFromTriggerToPopover()) {\n        focusFirstPopoverTabbable(event);\n      } else if (tabbedOutOfPopover()) {\n        focusTabbableAfterTrigger(event);\n      } else if (tabbedToBrowserChrome(event)) {\n        disableTabbablesInPopover();\n      }\n    }\n  }\n\n  useEffect(function () {\n    if (ownerDocument) {\n      ownerDocument.addEventListener(\"keydown\", handleKeyDown);\n      return function () {\n        ownerDocument.removeEventListener(\"keydown\", handleKeyDown);\n      };\n    }\n\n    return; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  function getElementAfterTrigger() {\n    var elements = ownerDocument && tabbable(ownerDocument);\n    var targetIndex = elements && triggerRef.current ? elements.indexOf(triggerRef.current) : -1;\n    var elementAfterTrigger = elements && elements[targetIndex + 1];\n    return popoverRef.current && popoverRef.current.contains(elementAfterTrigger || null) ? false : elementAfterTrigger;\n  }\n\n  function tabbedFromTriggerToPopover() {\n    return triggerRef.current && ownerDocument ? triggerRef.current === ownerDocument.activeElement : false;\n  }\n\n  function focusFirstPopoverTabbable(event) {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n\n    if (elements && elements[0]) {\n      event.preventDefault();\n      elements[0].focus();\n    }\n  }\n\n  function tabbedOutOfPopover() {\n    var inPopover = popoverRef.current && ownerDocument ? popoverRef.current.contains(ownerDocument.activeElement || null) : false;\n\n    if (inPopover) {\n      var elements = popoverRef.current && tabbable(popoverRef.current);\n      return Boolean(elements && ownerDocument && elements[elements.length - 1] === ownerDocument.activeElement);\n    }\n\n    return false;\n  }\n\n  function focusTabbableAfterTrigger(event) {\n    var elementAfterTrigger = getElementAfterTrigger();\n\n    if (elementAfterTrigger) {\n      event.preventDefault();\n      elementAfterTrigger.focus();\n    }\n  }\n\n  function shiftTabbedFromElementAfterTrigger(event) {\n    if (!event.shiftKey) return;\n    var elementAfterTrigger = getElementAfterTrigger();\n    return event.target === elementAfterTrigger;\n  }\n\n  function focusLastTabbableInPopover(event) {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n    var last = elements && elements[elements.length - 1];\n\n    if (last) {\n      event.preventDefault();\n      last.focus();\n    }\n  }\n\n  function shiftTabbedOutOfPopover(event) {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n\n    if (elements) {\n      return elements.length === 0 ? false : event.target === elements[0];\n    }\n\n    return false;\n  }\n\n  function focusTriggerRef(event) {\n    var _triggerRef$current;\n\n    event.preventDefault();\n    (_triggerRef$current = triggerRef.current) === null || _triggerRef$current === void 0 ? void 0 : _triggerRef$current.focus();\n  }\n\n  function tabbedToBrowserChrome(event) {\n    var elements = ownerDocument && popoverRef.current ? tabbable(ownerDocument).filter(function (element) {\n      return !popoverRef.current.contains(element);\n    }) : null;\n    return elements ? event.target === elements[elements.length - 1] : false;\n  }\n\n  function shiftTabbedToBrowserChrome(event) {\n    // we're assuming the popover will never contain the first tabbable\n    // element, and it better not, because the trigger needs to be tabbable!\n    return ownerDocument ? event.target === tabbable(ownerDocument)[0] : false;\n  }\n\n  var restoreTabIndexTupl√©s = [];\n\n  function disableTabbablesInPopover() {\n    var elements = popoverRef.current && tabbable(popoverRef.current);\n\n    if (elements) {\n      elements.forEach(function (element) {\n        restoreTabIndexTupl√©s.push([element, element.tabIndex]);\n        element.tabIndex = -1;\n      });\n      ownerDocument && ownerDocument.addEventListener(\"focusin\", enableTabbablesInPopover);\n    }\n  }\n\n  function enableTabbablesInPopover() {\n    ownerDocument && ownerDocument.removeEventListener(\"focusin\", enableTabbablesInPopover);\n    restoreTabIndexTupl√©s.forEach(function (_ref2) {\n      var element = _ref2[0],\n          tabIndex = _ref2[1];\n      element.tabIndex = tabIndex;\n    });\n  }\n}\n\nexport default Popover;\nexport { getCollisions, positionDefault, positionMatchWidth, positionRight };","/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\nvar t;\n!function (t) {\n  t[t.NotStarted = 0] = \"NotStarted\", t[t.Running = 1] = \"Running\", t[t.Stopped = 2] = \"Stopped\";\n}(t || (t = {}));\nvar n = {\n  type: \"xstate.init\"\n};\n\nfunction e(t) {\n  return void 0 === t ? [] : [].concat(t);\n}\n\nfunction r(t) {\n  return {\n    type: \"xstate.assign\",\n    assignment: t\n  };\n}\n\nfunction i(t, n) {\n  return \"string\" == typeof (t = \"string\" == typeof t && n && n[t] ? n[t] : t) ? {\n    type: t\n  } : \"function\" == typeof t ? {\n    type: t.name,\n    exec: t\n  } : t;\n}\n\nfunction o(t) {\n  return function (n) {\n    return t === n;\n  };\n}\n\nfunction a(t) {\n  return \"string\" == typeof t ? {\n    type: t\n  } : t;\n}\n\nfunction u(t, n) {\n  return {\n    value: t,\n    context: n,\n    actions: [],\n    changed: !1,\n    matches: o(t)\n  };\n}\n\nfunction c(t, n) {\n  void 0 === n && (n = {});\n  var r = {\n    config: t,\n    _options: n,\n    initialState: {\n      value: t.initial,\n      actions: e(t.states[t.initial].entry).map(function (t) {\n        return i(t, n.actions);\n      }),\n      context: t.context,\n      matches: o(t.initial)\n    },\n    transition: function transition(n, c) {\n      var s,\n          f,\n          l = \"string\" == typeof n ? {\n        value: n,\n        context: t.context\n      } : n,\n          v = l.value,\n          p = l.context,\n          g = a(c),\n          y = t.states[v];\n\n      if (y.on) {\n        var d = e(y.on[g.type]),\n            x = function x(n) {\n          if (void 0 === n) return {\n            value: u(v, p)\n          };\n          var e = \"string\" == typeof n ? {\n            target: n\n          } : n,\n              a = e.target,\n              c = void 0 === a ? v : a,\n              s = e.actions,\n              f = void 0 === s ? [] : s,\n              l = e.cond,\n              d = p;\n\n          if ((void 0 === l ? function () {\n            return !0;\n          } : l)(p, g)) {\n            var x = t.states[c],\n                m = !1,\n                h = [].concat(y.exit, f, x.entry).filter(function (t) {\n              return t;\n            }).map(function (t) {\n              return i(t, r._options.actions);\n            }).filter(function (t) {\n              if (\"xstate.assign\" === t.type) {\n                m = !0;\n                var n = Object.assign({}, d);\n                return \"function\" == typeof t.assignment ? n = t.assignment(d, g) : Object.keys(t.assignment).forEach(function (e) {\n                  n[e] = \"function\" == typeof t.assignment[e] ? t.assignment[e](d, g) : t.assignment[e];\n                }), d = n, !1;\n              }\n\n              return !0;\n            });\n            return {\n              value: {\n                value: c,\n                context: d,\n                actions: h,\n                changed: c !== v || h.length > 0 || m,\n                matches: o(c)\n              }\n            };\n          }\n        };\n\n        try {\n          for (var m = function (t) {\n            var n = \"function\" == typeof Symbol && t[Symbol.iterator],\n                e = 0;\n            return n ? n.call(t) : {\n              next: function next() {\n                return t && e >= t.length && (t = void 0), {\n                  value: t && t[e++],\n                  done: !t\n                };\n              }\n            };\n          }(d), h = m.next(); !h.done; h = m.next()) {\n            var S = x(h.value);\n            if (\"object\" == typeof S) return S.value;\n          }\n        } catch (t) {\n          s = {\n            error: t\n          };\n        } finally {\n          try {\n            h && !h.done && (f = m.return) && f.call(m);\n          } finally {\n            if (s) throw s.error;\n          }\n        }\n      }\n\n      return u(v, p);\n    }\n  };\n  return r;\n}\n\nvar s = function s(t, n) {\n  return t.actions.forEach(function (e) {\n    var r = e.exec;\n    return r && r(t.context, n);\n  });\n};\n\nfunction f(e) {\n  var r = e.initialState,\n      i = t.NotStarted,\n      o = new Set(),\n      u = {\n    _machine: e,\n    send: function send(n) {\n      i === t.Running && (r = e.transition(r, n), s(r, a(n)), o.forEach(function (t) {\n        return t(r);\n      }));\n    },\n    subscribe: function subscribe(t) {\n      return o.add(t), t(r), {\n        unsubscribe: function unsubscribe() {\n          return o.delete(t);\n        }\n      };\n    },\n    start: function start() {\n      return i = t.Running, s(r, n), u;\n    },\n    stop: function stop() {\n      return i = t.Stopped, o.clear(), u;\n    },\n\n    get state() {\n      return r;\n    },\n\n    get status() {\n      return i;\n    }\n\n  };\n  return u;\n}\n\nexport { t as InterpreterStatus, r as assign, c as createMachine, f as interpret };","import React, { useContext, useState, useCallback, useMemo } from 'react';\nimport { createNamedContext, useForceUpdate, usePrevious, useIsomorphicLayoutEffect, noop } from '@reach/utils';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction createDescendantContext(name, initialValue) {\n  if (initialValue === void 0) {\n    initialValue = {};\n  }\n\n  var descendants = [];\n  return createNamedContext(name, _extends({\n    descendants: descendants,\n    registerDescendant: noop,\n    unregisterDescendant: noop\n  }, initialValue));\n}\n/**\r\n * This hook registers our descendant by passing it into an array. We can then\r\n * search that array by to find its index when registering it in the component.\r\n * We use this for focus management, keyboard navigation, and typeahead\r\n * functionality for some components.\r\n *\r\n * The hook accepts the element node and (optionally) a key. The key is useful\r\n * if multiple descendants have identical text values and we need to\r\n * differentiate siblings for some reason.\r\n *\r\n * Our main goals with this are:\r\n *   1) maximum composability,\r\n *   2) minimal API friction\r\n *   3) SSR compatibility*\r\n *   4) concurrent safe\r\n *   5) index always up-to-date with the tree despite changes\r\n *   6) works with memoization of any component in the tree (hopefully)\r\n *\r\n * * As for SSR, the good news is that we don't actually need the index on the\r\n * server for most use-cases, as we are only using it to determine the order of\r\n * composed descendants for keyboard navigation. However, in the few cases where\r\n * this is not the case, we can require an explicit index from the app.\r\n */\n\n\nfunction useDescendant(descendant, context, indexProp) {\n  var forceUpdate = useForceUpdate();\n\n  var _useContext = useContext(context),\n      registerDescendant = _useContext.registerDescendant,\n      unregisterDescendant = _useContext.unregisterDescendant,\n      descendants = _useContext.descendants; // This will initially return -1 because we haven't registered the descendant\n  // on the first render. After we register, this will then return the correct\n  // index on the following render and we will re-register descendants\n  // so that everything is up-to-date before the user interacts with a\n  // collection.\n\n\n  var index = indexProp !== null && indexProp !== void 0 ? indexProp : descendants.findIndex(function (item) {\n    return item.element === descendant.element;\n  });\n  var previousDescendants = usePrevious(descendants); // We also need to re-register descendants any time ANY of the other\n  // descendants have changed. My brain was melting when I wrote this and it\n  // feels a little off, but checking in render and using the result in the\n  // effect's dependency array works well enough.\n\n  var someDescendantsHaveChanged = descendants.some(function (descendant, index) {\n    var _previousDescendants$;\n\n    return descendant.element !== (previousDescendants === null || previousDescendants === void 0 ? void 0 : (_previousDescendants$ = previousDescendants[index]) === null || _previousDescendants$ === void 0 ? void 0 : _previousDescendants$.element);\n  }); // Prevent any flashing\n\n  useIsomorphicLayoutEffect(function () {\n    if (!descendant.element) forceUpdate();\n    registerDescendant(_extends({}, descendant, {\n      index: index\n    }));\n    return function () {\n      return unregisterDescendant(descendant.element);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [forceUpdate, index, registerDescendant, someDescendantsHaveChanged, unregisterDescendant].concat(Object.values(descendant)));\n  return index;\n}\n\nfunction useDescendantsInit() {\n  return useState([]);\n}\n\nfunction useDescendants(ctx) {\n  return useContext(ctx).descendants;\n}\n\nfunction DescendantProvider(_ref) {\n  var Ctx = _ref.context,\n      children = _ref.children,\n      items = _ref.items,\n      set = _ref.set;\n  var registerDescendant = useCallback(function (_ref2) {\n    var element = _ref2.element,\n        explicitIndex = _ref2.index,\n        rest = _objectWithoutPropertiesLoose(_ref2, [\"element\", \"index\"]);\n\n    if (!element) {\n      return;\n    }\n\n    set(function (items) {\n      var newItems;\n\n      if (explicitIndex != null) {\n        newItems = [].concat(items, [_extends({}, rest, {\n          element: element,\n          index: explicitIndex\n        })]);\n      } else if (items.length === 0) {\n        // If there are no items, register at index 0 and bail.\n        newItems = [].concat(items, [_extends({}, rest, {\n          element: element,\n          index: 0\n        })]);\n      } else if (items.find(function (item) {\n        return item.element === element;\n      })) {\n        // If the element is already registered, just use the same array\n        newItems = items;\n      } else {\n        // When registering a descendant, we need to make sure we insert in\n        // into the array in the same order that it appears in the DOM. So as\n        // new descendants are added or maybe some are removed, we always know\n        // that the array is up-to-date and correct.\n        //\n        // So here we look at our registered descendants and see if the new\n        // element we are adding appears earlier than an existing descendant's\n        // DOM node via `node.compareDocumentPosition`. If it does, we insert\n        // the new element at this index. Because `registerDescendant` will be\n        // called in an effect every time the descendants state value changes,\n        // we should be sure that this index is accurate when descendent\n        // elements come or go from our component.\n        var index = items.findIndex(function (item) {\n          if (!item.element || !element) {\n            return false;\n          } // Does this element's DOM node appear before another item in the\n          // array in our DOM tree? If so, return true to grab the index at\n          // this point in the array so we know where to insert the new\n          // element.\n\n\n          return Boolean(item.element.compareDocumentPosition(element) & Node.DOCUMENT_POSITION_PRECEDING);\n        });\n\n        var newItem = _extends({}, rest, {\n          element: element,\n          index: index\n        }); // If an index is not found we will push the element to the end.\n\n\n        if (index === -1) {\n          newItems = [].concat(items, [newItem]);\n        } else {\n          newItems = [].concat(items.slice(0, index), [newItem], items.slice(index));\n        }\n      }\n\n      return newItems.map(function (item, index) {\n        return _extends({}, item, {\n          index: index\n        });\n      });\n    });\n  }, // set is a state setter initialized by the useDescendants hook.\n  // We can safely ignore the lint warning here because it will not change\n  // between renders.\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  []);\n  var unregisterDescendant = useCallback(function (element) {\n    if (!element) {\n      return;\n    }\n\n    set(function (items) {\n      return items.filter(function (item) {\n        return element !== item.element;\n      });\n    });\n  }, // set is a state setter initialized by the useDescendants hook.\n  // We can safely ignore the lint warning here because it will not change\n  // between renders.\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  []);\n  return React.createElement(Ctx.Provider, {\n    value: useMemo(function () {\n      return {\n        descendants: items,\n        registerDescendant: registerDescendant,\n        unregisterDescendant: unregisterDescendant\n      };\n    }, [items, registerDescendant, unregisterDescendant])\n  }, children);\n}\n/**\r\n * Testing this as an abstraction for compound components that use keyboard\r\n * navigation. Hoping this will help us prevent bugs and mismatched behavior\r\n * across various components, but it may also prove to be too messy of an\r\n * abstraction in the end.\r\n *\r\n * Currently used in:\r\n *   - Tabs\r\n *   - Accordion\r\n *\r\n * @param context\r\n * @param options\r\n */\n\n\nfunction useDescendantKeyDown(context, options) {\n  var _useContext2 = useContext(context),\n      descendants = _useContext2.descendants;\n\n  var callback = options.callback,\n      currentIndex = options.currentIndex,\n      filter = options.filter,\n      _options$key = options.key,\n      key = _options$key === void 0 ? \"index\" : _options$key,\n      _options$orientation = options.orientation,\n      orientation = _options$orientation === void 0 ? \"vertical\" : _options$orientation,\n      _options$rotate = options.rotate,\n      rotate = _options$rotate === void 0 ? true : _options$rotate,\n      _options$rtl = options.rtl,\n      rtl = _options$rtl === void 0 ? false : _options$rtl;\n  var index = currentIndex !== null && currentIndex !== void 0 ? currentIndex : -1;\n  return function handleKeyDown(event) {\n    if (![\"ArrowDown\", \"ArrowUp\", \"ArrowLeft\", \"ArrowRight\", \"PageUp\", \"PageDown\", \"Home\", \"End\"].includes(event.key)) {\n      return;\n    } // If we use a filter function, we need to re-index our descendants array\n    // so that filtered descendent elements aren't selected.\n\n\n    var selectableDescendants = filter ? descendants.filter(filter) : descendants; // Current index should map to the updated array vs. the original\n    // descendants array.\n\n    if (filter) {\n      index = selectableDescendants.findIndex(function (descendant) {\n        return descendant.index === currentIndex;\n      });\n    } // We need some options for any of this to work!\n\n\n    if (!selectableDescendants.length) {\n      return;\n    }\n\n    function getNextOption() {\n      var atBottom = index === selectableDescendants.length - 1;\n      return atBottom ? rotate ? getFirstOption() : selectableDescendants[index] : selectableDescendants[(index + 1) % selectableDescendants.length];\n    }\n\n    function getPreviousOption() {\n      var atTop = index === 0;\n      return atTop ? rotate ? getLastOption() : selectableDescendants[index] : selectableDescendants[(index - 1 + selectableDescendants.length) % selectableDescendants.length];\n    }\n\n    function getFirstOption() {\n      return selectableDescendants[0];\n    }\n\n    function getLastOption() {\n      return selectableDescendants[selectableDescendants.length - 1];\n    }\n\n    switch (event.key) {\n      case \"ArrowDown\":\n        if (orientation === \"vertical\" || orientation === \"both\") {\n          event.preventDefault();\n          var next = getNextOption();\n          callback(key === \"option\" ? next : next[key]);\n        }\n\n        break;\n\n      case \"ArrowUp\":\n        if (orientation === \"vertical\" || orientation === \"both\") {\n          event.preventDefault();\n          var prev = getPreviousOption();\n          callback(key === \"option\" ? prev : prev[key]);\n        }\n\n        break;\n\n      case \"ArrowLeft\":\n        if (orientation === \"horizontal\" || orientation === \"both\") {\n          event.preventDefault();\n          var nextOrPrev = (rtl ? getNextOption : getPreviousOption)();\n          callback(key === \"option\" ? nextOrPrev : nextOrPrev[key]);\n        }\n\n        break;\n\n      case \"ArrowRight\":\n        if (orientation === \"horizontal\" || orientation === \"both\") {\n          event.preventDefault();\n          var prevOrNext = (rtl ? getPreviousOption : getNextOption)();\n          callback(key === \"option\" ? prevOrNext : prevOrNext[key]);\n        }\n\n        break;\n\n      case \"PageUp\":\n        event.preventDefault();\n        var prevOrFirst = (event.ctrlKey ? getPreviousOption : getFirstOption)();\n        callback(key === \"option\" ? prevOrFirst : prevOrFirst[key]);\n        break;\n\n      case \"Home\":\n        event.preventDefault();\n        var first = getFirstOption();\n        callback(key === \"option\" ? first : first[key]);\n        break;\n\n      case \"PageDown\":\n        event.preventDefault();\n        var nextOrLast = (event.ctrlKey ? getNextOption : getLastOption)();\n        callback(key === \"option\" ? nextOrLast : nextOrLast[key]);\n        break;\n\n      case \"End\":\n        event.preventDefault();\n        var last = getLastOption();\n        callback(key === \"option\" ? last : last[key]);\n        break;\n    }\n  };\n}\n\nexport { DescendantProvider, createDescendantContext, useDescendant, useDescendantKeyDown, useDescendants, useDescendantsInit };","import React, { isValidElement, cloneElement, createContext, useRef, useState, useCallback, useEffect, useMemo } from 'react';\nexport { default as warning } from 'warning';\n/* eslint-disable no-restricted-globals, eqeqeq  */\n\n/**\r\n * React currently throws a warning when using useLayoutEffect on the server.\r\n * To get around it, we can conditionally useEffect on the server (no-op) and\r\n * useLayoutEffect in the browser. We occasionally need useLayoutEffect to\r\n * ensure we don't get a render flash for certain operations, but we may also\r\n * need affected components to render on the server. One example is when setting\r\n * a component's descendants to retrieve their index values.\r\n *\r\n * Important to note that using this hook as an escape hatch will break the\r\n * eslint dependency warnings unless you rename the import to `useLayoutEffect`.\r\n * Use sparingly only when the effect won't effect the rendered HTML to avoid\r\n * any server/client mismatch.\r\n *\r\n * If a useLayoutEffect is needed and the result would create a mismatch, it's\r\n * likely that the component in question shouldn't be rendered on the server at\r\n * all, so a better approach would be to lazily render those in a parent\r\n * component after client-side hydration.\r\n *\r\n * TODO: We are calling useLayoutEffect in a couple of places that will likely\r\n * cause some issues for SSR users, whether the warning shows or not. Audit and\r\n * fix these.\r\n *\r\n * https://gist.github.com/gaearon/e7d97cdf38a2907924ea12e4ebdf3c85\r\n * https://github.com/reduxjs/react-redux/blob/master/src/utils/useIsomorphicLayoutEffect.js\r\n *\r\n * @param effect\r\n * @param deps\r\n */\n\nvar useIsomorphicLayoutEffect = /*#__PURE__*/canUseDOM() ? React.useLayoutEffect : React.useEffect;\nvar checkedPkgs = {};\n/**\r\n * When in dev mode, checks that styles for a given @reach package are loaded.\r\n *\r\n * @param packageName Name of the package to check.\r\n * @example checkStyles(\"dialog\") will check for styles for @reach/dialog\r\n */\n// @ts-ignore\n\nvar checkStyles = noop;\n\nif (process.env.NODE_ENV !== \"production\") {\n  // In CJS files, process.env.NODE_ENV is stripped from our build, but we need\n  // it to prevent style checks from clogging up user logs while testing.\n  // This is a workaround until we can tweak the build a bit to accommodate.\n  var _ref = typeof process !== \"undefined\" ? process : {\n    env: {\n      NODE_ENV: \"development\"\n    }\n  },\n      env = _ref.env;\n\n  checkStyles = function checkStyles(packageName) {\n    // only check once per package\n    if (checkedPkgs[packageName]) return;\n    checkedPkgs[packageName] = true;\n\n    if (env.NODE_ENV !== \"test\" && parseInt(window.getComputedStyle(document.body).getPropertyValue(\"--reach-\" + packageName), 10) !== 1) {\n      console.warn(\"@reach/\" + packageName + \" styles not found. If you are using a bundler like webpack or parcel include this in the entry file of your app before any of your own styles:\\n\\n    import \\\"@reach/\" + packageName + \"/styles.css\\\";\\n\\n  Otherwise you'll need to include them some other way:\\n\\n    <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"node_modules/@reach/\" + packageName + \"/styles.css\\\" />\\n\\n  For more information visit https://ui.reach.tech/styling.\\n  \");\n    }\n  };\n}\n/**\r\n * Ponyfill for the global object in some environments.\r\n *\r\n * @link https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\r\n */\n\n\nvar ponyfillGlobal = typeof window != \"undefined\" && window.Math == Math ? window : typeof self != \"undefined\" && self.Math == Math ? self :\n/*#__PURE__*/\n// eslint-disable-next-line no-new-func\nFunction(\"return this\")();\n/**\r\n * Passes or assigns an arbitrary value to a ref function or object.\r\n *\r\n * @param ref\r\n * @param value\r\n */\n\nfunction assignRef(ref, value) {\n  if (ref == null) return;\n\n  if (isFunction(ref)) {\n    ref(value);\n  } else {\n    try {\n      ref.current = value;\n    } catch (error) {\n      throw new Error(\"Cannot assign value \\\"\" + value + \"\\\" to ref \\\"\" + ref + \"\\\"\");\n    }\n  }\n}\n/**\r\n * Checks true|\"true\" vs false|\"false\"\r\n *\r\n * @param value\r\n */\n\n\nfunction boolOrBoolString(value) {\n  return value === \"true\" ? true : isBoolean(value) ? value : false;\n}\n\nfunction canUseDOM() {\n  return !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\n}\n/**\r\n * Type-safe clone element\r\n *\r\n * @param element\r\n * @param props\r\n * @param children\r\n */\n\n\nfunction cloneValidElement(element, props) {\n  for (var _len = arguments.length, children = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    children[_key - 2] = arguments[_key];\n  }\n\n  return isValidElement(element) ? cloneElement.apply(void 0, [element, props].concat(children)) : element;\n}\n\nfunction createNamedContext(name, defaultValue) {\n  var Ctx = createContext(defaultValue);\n  Ctx.displayName = name;\n  return Ctx;\n}\n/**\r\n * This is a hack for sure. The thing is, getting a component to intelligently\r\n * infer props based on a component or JSX string passed into an `as` prop is\r\n * kind of a huge pain. Getting it to work and satisfy the constraints of\r\n * `forwardRef` seems dang near impossible. To avoid needing to do this awkward\r\n * type song-and-dance every time we want to forward a ref into a component\r\n * that accepts an `as` prop, we abstract all of that mess to this function for\r\n * the time time being.\r\n */\n\n\nfunction forwardRefWithAs(render) {\n  return React.forwardRef(render);\n}\n\nfunction memoWithAs(Component, propsAreEqual) {\n  return React.memo(Component, propsAreEqual);\n}\n/**\r\n * Get the size of the working document minus the scrollbar offset.\r\n *\r\n * @param element\r\n */\n\n\nfunction getDocumentDimensions(element) {\n  if (!canUseDOM()) return {\n    width: 0,\n    height: 0\n  };\n  var doc = element ? getOwnerDocument(element) : document;\n  var win = element ? getOwnerWindow(element) : window;\n  return {\n    width: doc.documentElement.clientWidth || win.innerWidth,\n    height: doc.documentElement.clientHeight || win.innerHeight\n  };\n}\n/**\r\n * Get the scoll position of the global window object relative to a given node.\r\n *\r\n * @param element\r\n */\n\n\nfunction getScrollPosition(element) {\n  if (!canUseDOM()) return {\n    scrollX: 0,\n    scrollY: 0\n  };\n  var win = element ? getOwnerWindow(element) : window;\n  return {\n    scrollX: win.scrollX,\n    scrollY: win.scrollY\n  };\n}\n/**\r\n * Get a computed style value by property, backwards compatible with IE\r\n * @param element\r\n * @param styleProp\r\n */\n\n\nfunction getElementComputedStyle(element, styleProp) {\n  var y = null;\n  var doc = getOwnerDocument(element);\n\n  if (element.currentStyle) {\n    y = element.currentStyle[styleProp];\n  } else if (doc && doc.defaultView && isFunction(doc.defaultView.getComputedStyle)) {\n    y = doc.defaultView.getComputedStyle(element, null).getPropertyValue(styleProp);\n  }\n\n  return y;\n}\n/**\r\n * Get an element's owner document. Useful when components are used in iframes\r\n * or other environments like dev tools.\r\n *\r\n * @param element\r\n */\n\n\nfunction getOwnerDocument(element) {\n  return element && element.ownerDocument ? element.ownerDocument : canUseDOM() ? document : null;\n}\n\nfunction getOwnerWindow(element) {\n  var doc = element ? getOwnerDocument(element) : null;\n  return doc ? doc.defaultView || window : null;\n}\n/**\r\n * Get the scrollbar offset distance.\r\n *\r\n * TODO: Remove in 1.0 (we used this in public examples)\r\n */\n\n\nfunction getScrollbarOffset() {\n  try {\n    if (window.innerWidth > document.documentElement.clientWidth) {\n      return window.innerWidth - document.documentElement.clientWidth;\n    }\n  } catch (err) {}\n\n  return 0;\n}\n/**\r\n * Checks whether or not a value is a boolean.\r\n *\r\n * @param value\r\n */\n\n\nfunction isBoolean(value) {\n  return typeof value === \"boolean\";\n}\n/**\r\n * Checks whether or not a value is a function.\r\n *\r\n * @param value\r\n */\n\n\nfunction isFunction(value) {\n  return !!(value && {}.toString.call(value) == \"[object Function]\");\n}\n/**\r\n * Checks whether or not a value is a number.\r\n *\r\n * @param value\r\n */\n\n\nfunction isNumber(value) {\n  return typeof value === \"number\" && !isNaN(value);\n}\n/**\r\n * Detects right clicks\r\n *\r\n * @param nativeEvent\r\n */\n\n\nfunction isRightClick(nativeEvent) {\n  return \"which\" in nativeEvent ? nativeEvent.which === 3 : \"button\" in nativeEvent ? nativeEvent.button === 2 : false;\n}\n/**\r\n * Checks whether or not a value is a string.\r\n *\r\n * @param value\r\n */\n\n\nfunction isString(value) {\n  return typeof value === \"string\";\n}\n/**\r\n * Joins strings to format IDs for compound components.\r\n *\r\n * @param args\r\n */\n\n\nfunction makeId() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  return args.filter(function (val) {\n    return val != null;\n  }).join(\"--\");\n}\n/**\r\n * No-op function.\r\n */\n\n\nfunction noop() {}\n/**\r\n * Convert our state strings for HTML data attributes.\r\n * No need for a fancy kebab-caser here, we know what our state strings are!\r\n *\r\n * @param state\r\n */\n\n\nfunction stateToAttributeString(state) {\n  return String(state).replace(/([\\s_]+)/g, \"-\").toLowerCase();\n}\n/**\r\n * Check if a component is controlled or uncontrolled and return the correct\r\n * state value and setter accordingly. If the component state is controlled by\r\n * the app, the setter is a noop.\r\n *\r\n * @param controlledValue\r\n * @param defaultValue\r\n */\n\n\nfunction useControlledState(controlledValue, defaultValue) {\n  var controlledRef = useRef(controlledValue != null);\n\n  var _useState = useState(defaultValue),\n      valueState = _useState[0],\n      setValue = _useState[1];\n\n  var set = useCallback(function (n) {\n    if (!controlledRef.current) {\n      setValue(n);\n    }\n  }, []);\n  return [controlledRef.current ? controlledValue : valueState, set];\n}\n/**\r\n * Logs a warning in dev mode when a component switches from controlled to\r\n * uncontrolled, or vice versa\r\n *\r\n * A single prop should typically be used to determine whether or not a\r\n * component is controlled or not.\r\n *\r\n * @param controlledValue\r\n * @param controlledPropName\r\n * @param componentName\r\n */\n\n\nvar useControlledSwitchWarning = noop;\n\nif (process.env.NODE_ENV !== \"production\") {\n  useControlledSwitchWarning = function useControlledSwitchWarning(controlledValue, controlledPropName, componentName) {\n    var controlledRef = useRef(controlledValue != null);\n    var nameCache = useRef({\n      componentName: componentName,\n      controlledPropName: controlledPropName\n    });\n    useEffect(function () {\n      nameCache.current = {\n        componentName: componentName,\n        controlledPropName: controlledPropName\n      };\n    }, [componentName, controlledPropName]);\n    useEffect(function () {\n      var wasControlled = controlledRef.current;\n      var _nameCache$current = nameCache.current,\n          componentName = _nameCache$current.componentName,\n          controlledPropName = _nameCache$current.controlledPropName;\n      var isControlled = controlledValue != null;\n\n      if (wasControlled !== isControlled) {\n        console.error(\"A component is changing an \" + (wasControlled ? \"\" : \"un\") + \"controlled `\" + controlledPropName + \"` state of \" + componentName + \" to be \" + (wasControlled ? \"un\" : \"\") + \"controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled \" + componentName + \" element for the lifetime of the component.\\nMore info: https://fb.me/react-controlled-components\");\n      }\n    }, [controlledValue]);\n  };\n}\n\nvar useCheckStyles = noop;\n\nif (process.env.NODE_ENV !== \"production\") {\n  useCheckStyles = function useCheckStyles(pkg) {\n    var name = useRef(pkg);\n    useEffect(function () {\n      return void (name.current = pkg);\n    }, [pkg]);\n    useEffect(function () {\n      return checkStyles(name.current);\n    }, []);\n  };\n}\n/**\r\n * React hook for creating a value exactly once.\r\n * @see https://github.com/Andarist/use-constant\r\n */\n\n\nfunction useConstant(fn) {\n  var ref = React.useRef();\n\n  if (!ref.current) {\n    ref.current = {\n      v: fn()\n    };\n  }\n\n  return ref.current.v;\n}\n/**\r\n * @param callback\r\n */\n\n\nfunction useEventCallback(callback) {\n  var ref = useRef(callback);\n  useIsomorphicLayoutEffect(function () {\n    ref.current = callback;\n  });\n  return useCallback(function (event) {\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n\n    return ref.current.apply(ref, [event].concat(args));\n  }, []);\n}\n/**\r\n * @param callback\r\n */\n\n\nfunction useCallbackProp(callback) {\n  var ref = useRef(callback);\n  useEffect(function () {\n    ref.current = callback;\n  });\n  return useCallback(function () {\n    return ref.current && ref.current.apply(ref, arguments);\n  }, []);\n}\n/**\r\n * Adds a DOM event listener\r\n *\r\n * @param eventName\r\n * @param listener\r\n * @param element\r\n */\n\n\nfunction useEventListener(eventName, listener, element) {\n  if (element === void 0) {\n    element = window;\n  }\n\n  var savedHandler = useRef(listener);\n  useEffect(function () {\n    savedHandler.current = listener;\n  }, [listener]);\n  useEffect(function () {\n    var isSupported = element && element.addEventListener;\n\n    if (!isSupported) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.warn(\"Event listener not supported on the element provided\");\n      }\n\n      return;\n    }\n\n    function eventListener(event) {\n      savedHandler.current(event);\n    }\n\n    element.addEventListener(eventName, eventListener);\n    return function () {\n      element.removeEventListener(eventName, eventListener);\n    };\n  }, [eventName, element]);\n}\n/**\r\n * Detect when focus changes in our document.\r\n *\r\n * @param handleChange\r\n * @param when\r\n * @param ownerDocument\r\n */\n\n\nfunction useFocusChange(handleChange, when, ownerDocument) {\n  if (handleChange === void 0) {\n    handleChange = console.log;\n  }\n\n  if (when === void 0) {\n    when = \"focus\";\n  }\n\n  if (ownerDocument === void 0) {\n    ownerDocument = document;\n  }\n\n  var lastActiveElement = useRef(ownerDocument.activeElement);\n  useEffect(function () {\n    lastActiveElement.current = ownerDocument.activeElement;\n\n    function onChange(event) {\n      if (lastActiveElement.current !== ownerDocument.activeElement) {\n        handleChange(ownerDocument.activeElement, lastActiveElement.current, event);\n        lastActiveElement.current = ownerDocument.activeElement;\n      }\n    }\n\n    ownerDocument.addEventListener(when, onChange, true);\n    return function () {\n      ownerDocument.removeEventListener(when, onChange);\n    };\n  }, [when, handleChange, ownerDocument]);\n}\n/**\r\n * Forces a re-render, similar to `forceUpdate` in class components.\r\n */\n\n\nfunction useForceUpdate() {\n  var _useState2 = useState(Object.create(null)),\n      dispatch = _useState2[1];\n\n  return useCallback(function () {\n    dispatch(Object.create(null));\n  }, []);\n}\n/**\r\n * Passes or assigns a value to multiple refs (typically a DOM node). Useful for\r\n * dealing with components that need an explicit ref for DOM calculations but\r\n * also forwards refs assigned by an app.\r\n *\r\n * @param refs Refs to fork\r\n */\n\n\nfunction useForkedRef() {\n  for (var _len4 = arguments.length, refs = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    refs[_key4] = arguments[_key4];\n  }\n\n  return useMemo(function () {\n    if (refs.every(function (ref) {\n      return ref == null;\n    })) {\n      return null;\n    }\n\n    return function (node) {\n      refs.forEach(function (ref) {\n        assignRef(ref, node);\n      });\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [].concat(refs));\n}\n/**\r\n * Returns the previous value of a reference after a component update.\r\n *\r\n * @param value\r\n */\n\n\nfunction usePrevious(value) {\n  var ref = useRef(null);\n  useEffect(function () {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n/**\r\n * Call an effect after a component update, skipping the initial mount.\r\n *\r\n * @param effect Effect to call\r\n * @param deps Effect dependency list\r\n */\n\n\nfunction useUpdateEffect(effect, deps) {\n  var mounted = useRef(false);\n  useEffect(function () {\n    if (mounted.current) {\n      effect();\n    } else {\n      mounted.current = true;\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, deps);\n}\n/**\r\n * Just a lil state logger\r\n *\r\n * @param state\r\n * @param DEBUG\r\n */\n\n\nvar useStateLogger = noop;\n\nif (process.env.NODE_ENV !== \"production\") {\n  useStateLogger = function useStateLogger(state, DEBUG) {\n    if (DEBUG === void 0) {\n      DEBUG = false;\n    }\n\n    var debugRef = useRef(DEBUG);\n    useEffect(function () {\n      debugRef.current = DEBUG;\n    }, [DEBUG]);\n    useEffect(function () {\n      if (debugRef.current) {\n        console.group(\"State Updated\");\n        console.log(\"%c\" + state, \"font-weight: normal; font-size: 120%; font-style: italic;\");\n        console.groupEnd();\n      }\n    }, [state]);\n  };\n}\n/**\r\n * Wraps a lib-defined event handler and a user-defined event handler, returning\r\n * a single handler that allows a user to prevent lib-defined handlers from\r\n * firing.\r\n *\r\n * @param theirHandler User-supplied event handler\r\n * @param ourHandler Library-supplied event handler\r\n */\n\n\nfunction wrapEvent(theirHandler, ourHandler) {\n  return function (event) {\n    theirHandler && theirHandler(event);\n\n    if (!event.defaultPrevented) {\n      return ourHandler(event);\n    }\n  };\n}\n\nexport { assignRef, boolOrBoolString, canUseDOM, checkStyles, cloneValidElement, createNamedContext, forwardRefWithAs, getDocumentDimensions, getElementComputedStyle, getOwnerDocument, getOwnerWindow, getScrollPosition, getScrollbarOffset, isBoolean, isFunction, isNumber, isRightClick, isString, makeId, memoWithAs, noop, ponyfillGlobal, stateToAttributeString, useCallbackProp, useCheckStyles, useConstant, useControlledState, useControlledSwitchWarning, useEventCallback, useEventListener, useFocusChange, useForceUpdate, useForkedRef, useIsomorphicLayoutEffect, usePrevious, useStateLogger, useUpdateEffect, wrapEvent };","import { useRef, useState, useCallback, useEffect, useMemo } from 'react';\nimport { interpret, createMachine } from '@xstate/fsm';\nexport { InterpreterStatus, assign, createMachine, interpret } from '@xstate/fsm';\nimport { useConstant, isString } from '@reach/utils';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar getServiceState = function getServiceState(service) {\n  var currentValue;\n  service.subscribe(function (state) {\n    currentValue = state;\n  }).unsubscribe();\n  return currentValue;\n};\n/**\r\n * This `useMachine` works very similiarly to what you get from `@xstate/react`\r\n * with some additions.\r\n *  - A second argument `refs` is passed to send all of our refs into our\r\n *    machine's contextual data object.\r\n *  - We wrap the `send` function so that refs are updated included in all of\r\n *    our events so we can use their current value (generally DOM nodes)\r\n *    anywhere in our actions.\r\n *  - We initialize the machine inside the component rather than throwing an\r\n *    error if an outside initializer creates a value that doesn't match. This\r\n *    is useful as some components may need a different initial state or some\r\n *    initial data based on props. We should *generally* just update the state\r\n *    with an event via useEffect and depend on a static initial value, but this\r\n *    is difficult if that initial value matters for SSR or to prevent some\r\n *    layout jank before the first paint. I don't think there's a problem with\r\n *    this approach, but we'll see what happens.\r\n *\r\n * @param initialMachine\r\n * @param refs\r\n */\n\n\nfunction useMachine(initialMachine, refs, DEBUG) {\n  // State machine should not change between renders, so let's store it in a\n  // ref. This should also help if we need to use a creator function to inject\n  // dynamic initial state values based on props.\n  var machineRef = useRef(initialMachine);\n  var service = useConstant(function () {\n    return interpret(machineRef.current).start();\n  });\n  var lastEventType = useRef(null);\n\n  var _useState = useState(function () {\n    return getServiceState(service);\n  }),\n      state = _useState[0],\n      setState = _useState[1]; // This function reference will change on every render if we just pass on\n  // current.matches, but it shouldn't change unless the current value is\n  // updated. This was causing some lagginess when profiling in Listbox but\n  // is probably an issue everywhere since the parent components that handle\n  // state logic at the top might re-create context on each render as a\n  // result of this change.\n  // Add refs to every event so we can use them to perform actions.\n\n\n  var send = useCallback(function (rawEvent) {\n    var event = isString(rawEvent) ? {\n      type: rawEvent\n    } : rawEvent;\n    var refValues = unwrapRefs(refs);\n    service.send(_extends({}, event, {\n      lastEventType: lastEventType.current,\n      refs: refValues\n    }));\n    lastEventType.current = event.type;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      if (DEBUG) {\n        console.group(\"Event Sent\");\n        console.log(\"Event:\", event);\n        console.groupEnd();\n      }\n    }\n  }, // We can disable the lint warning here. Refs will always be refs\n  // (TypeScript enforced!) and should not trigger a re-render. The state\n  // machine service persist for the life of the component.\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [DEBUG]);\n  useEffect(function () {\n    service.subscribe(function setStateIfChanged(newState) {\n      if (newState.changed) {\n        setState(newState);\n      }\n    });\n    return function () {\n      service.stop();\n    };\n  }, [service]);\n  useEffect(function () {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (DEBUG && state.changed) {\n        console.group(\"State Updated\");\n        console.log(\"State:\", state);\n        console.groupEnd();\n      }\n    }\n  }, [DEBUG, state]); // We are going to pass along our state without the actions to avoid excess\n  // renders when the reference changes. We haven't really needed them at this\n  // point, but if we do we can maybe reconsider this approach.\n\n  var memoizedState = useMemo(function () {\n    return _extends({}, state, {\n      matches: function matches(value) {\n        return value === state.value;\n      }\n    });\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [state.changed, state.context, state.value]);\n  return [memoizedState, send, service];\n}\n/**\r\n * Converts an object with React refs into an object with the same keys and\r\n * the current value of those refs.\r\n *\r\n * @param refs\r\n */\n\n\nfunction unwrapRefs(refs) {\n  return Object.entries(refs).reduce(function (value, _ref) {\n    var name = _ref[0],\n        ref = _ref[1];\n    value[name] = ref.current;\n    return value;\n  }, {});\n}\n/**\r\n * Most of the time you want to create a static state machine outside of your\r\n * component, but in some cases we may need data from props in the first render\r\n * cycle. We can create our machine in each component IF we only create it once\r\n * and guarantee that it never changes between renders.\r\n *\r\n * This hook can take a machine definition created by a function inline to use\r\n * values defined in the component, and we never change the machine for the\r\n * life of the component.\r\n *\r\n * @param machineDefinition\r\n * @param options\r\n */\n\n\nfunction useCreateMachine(machineDefinition, options) {\n  return useConstant(function () {\n    return createMachine(machineDefinition, options);\n  });\n} // Export types and functions from xstate/fsm\n\n\nexport { unwrapRefs, useCreateMachine, useMachine };","import React, { forwardRef, useRef, useMemo, useEffect, Fragment, memo, useContext, useState, useCallback } from 'react';\nimport { useId } from '@reach/auto-id';\nimport Popover, { positionMatchWidth } from '@reach/popover';\nimport { useDescendantsInit, DescendantProvider, useDescendant, createDescendantContext, useDescendants, useDescendantKeyDown } from '@reach/descendants';\nimport { getOwnerDocument, useCallbackProp, makeId, useForkedRef, useControlledSwitchWarning, useIsomorphicLayoutEffect, useCheckStyles, isFunction, memoWithAs, forwardRefWithAs, wrapEvent, createNamedContext, isBoolean, isRightClick, isString } from '@reach/utils';\nimport { assign, useCreateMachine, useMachine } from '@reach/machine';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar _commonEvents; // States\n\n\nvar ListboxStates;\n\n(function (ListboxStates) {\n  // Resting/closed state.\n  ListboxStates[\"Idle\"] = \"IDLE\"; // Listbox is open but the user is not yet navigating.\n\n  ListboxStates[\"Open\"] = \"OPEN\"; // The user is navigating the list\n\n  ListboxStates[\"Navigating\"] = \"NAVIGATING\"; // The user has moused-down but hasn't made a selection yet\n\n  ListboxStates[\"Dragging\"] = \"DRAGGING\"; // The user is interacting with arbitrary elements inside the popover\n\n  ListboxStates[\"Interacting\"] = \"INTERACTING\";\n})(ListboxStates || (ListboxStates = {})); ////////////////////////////////////////////////////////////////////////////////\n// Events\n\n\nvar ListboxEvents;\n\n(function (ListboxEvents) {\n  ListboxEvents[\"ButtonMouseDown\"] = \"BUTTON_MOUSE_DOWN\";\n  ListboxEvents[\"ButtonMouseUp\"] = \"BUTTON_MOUSE_UP\";\n  ListboxEvents[\"Blur\"] = \"BLUR\";\n  ListboxEvents[\"ClearNavSelection\"] = \"CLEAR_NAV_SELECTION\";\n  ListboxEvents[\"ClearTypeahead\"] = \"CLEAR_TYPEAHEAD\";\n  ListboxEvents[\"GetDerivedData\"] = \"GET_DERIVED_DATA\";\n  ListboxEvents[\"KeyDownEscape\"] = \"KEY_DOWN_ESCAPE\";\n  ListboxEvents[\"KeyDownEnter\"] = \"KEY_DOWN_ENTER\";\n  ListboxEvents[\"KeyDownSpace\"] = \"KEY_DOWN_SPACE\";\n  ListboxEvents[\"KeyDownNavigate\"] = \"KEY_DOWN_NAVIGATE\";\n  ListboxEvents[\"KeyDownSearch\"] = \"KEY_DOWN_SEARCH\";\n  ListboxEvents[\"KeyDownTab\"] = \"KEY_DOWN_TAB\";\n  ListboxEvents[\"KeyDownShiftTab\"] = \"KEY_DOWN_SHIFT_TAB\";\n  ListboxEvents[\"OptionTouchStart\"] = \"OPTION_TOUCH_START\";\n  ListboxEvents[\"OptionMouseMove\"] = \"OPTION_MOUSE_MOVE\";\n  ListboxEvents[\"OptionMouseEnter\"] = \"OPTION_MOUSE_ENTER\";\n  ListboxEvents[\"OutsideMouseDown\"] = \"OUTSIDE_MOUSE_DOWN\";\n  ListboxEvents[\"OutsideMouseUp\"] = \"OUTSIDE_MOUSE_UP\"; // Uncontrolled value changes come from specific events (click, key, etc.)\n  // ValueChange > Value change may have come from somewhere else\n\n  ListboxEvents[\"ValueChange\"] = \"VALUE_CHANGE\";\n  ListboxEvents[\"OptionMouseDown\"] = \"OPTION_MOUSE_DOWN\";\n  ListboxEvents[\"OptionMouseUp\"] = \"OPTION_MOUSE_UP\";\n  ListboxEvents[\"PopoverPointerDown\"] = \"POPOVER_POINTER_DOWN\";\n  ListboxEvents[\"PopoverPointerUp\"] = \"POPOVER_POINTER_UP\";\n  ListboxEvents[\"UpdateAfterTypeahead\"] = \"UPDATE_AFTER_TYPEAHEAD\";\n})(ListboxEvents || (ListboxEvents = {})); ////////////////////////////////////////////////////////////////////////////////\n// Actions and conditions\n\n\nvar clearNavigationValue = /*#__PURE__*/assign({\n  navigationValue: null\n});\nvar clearTypeahead = /*#__PURE__*/assign({\n  typeaheadQuery: null\n});\nvar assignValue = /*#__PURE__*/assign({\n  value: function value(_, event) {\n    return event.value;\n  }\n});\nvar navigate = /*#__PURE__*/assign({\n  navigationValue: function navigationValue(data, event) {\n    return event.value;\n  }\n});\nvar navigateFromCurrentValue = /*#__PURE__*/assign({\n  navigationValue: function navigationValue(data) {\n    // Before we navigate based on the current value, we need to make sure the\n    // current value is selectable. If not, we should instead navigate to the\n    // first selectable option.\n    var selected = findOptionFromValue(data.value, data.options);\n\n    if (selected && !selected.disabled) {\n      return data.value;\n    } else {\n      var _data$options$find;\n\n      return ((_data$options$find = data.options.find(function (option) {\n        return !option.disabled;\n      })) === null || _data$options$find === void 0 ? void 0 : _data$options$find.value) || null;\n    }\n  }\n});\n\nfunction listboxLostFocus(data, event) {\n  if (event.type === ListboxEvents.Blur) {\n    var _event$refs = event.refs,\n        list = _event$refs.list,\n        popover = _event$refs.popover;\n    var relatedTarget = event.relatedTarget;\n    var ownerDocument = popover && getOwnerDocument(popover) || document;\n    return !!(ownerDocument.activeElement !== list && popover && !popover.contains(relatedTarget || ownerDocument.activeElement));\n  }\n\n  return false;\n}\n\nfunction clickedOutsideOfListbox(data, event) {\n  if (event.type === ListboxEvents.OutsideMouseDown || event.type === ListboxEvents.OutsideMouseUp) {\n    var _event$refs2 = event.refs,\n        button = _event$refs2.button,\n        popover = _event$refs2.popover;\n    var relatedTarget = event.relatedTarget; // Close the popover IF:\n\n    return !!( // clicked element is not the button\n    relatedTarget !== button && // clicked element is not inside the button\n    button && !button.contains(relatedTarget) && // clicked element is not inside the popover\n    popover && !popover.contains(relatedTarget));\n  }\n\n  return false;\n}\n\nfunction optionIsActive(data, event) {\n  return !!data.options.find(function (option) {\n    return option.value === data.navigationValue;\n  });\n}\n\nfunction shouldNavigate(data, event) {\n  var _event$refs3 = event.refs,\n      popover = _event$refs3.popover,\n      list = _event$refs3.list;\n  var relatedTarget = event.relatedTarget; // When a blur event happens, we want to move to Navigating state unless the\n  // user is interacting with elements inside the popover...\n\n  if (popover && relatedTarget && popover.contains(relatedTarget) && relatedTarget !== list) {\n    return false;\n  } // ...otherwise, just make sure the next option is selectable\n\n\n  return optionIsActive(data);\n}\n\nfunction focusList(data, event) {\n  requestAnimationFrame(function () {\n    event.refs.list && event.refs.list.focus();\n  });\n}\n\nfunction focusButton(data, event) {\n  event.refs.button && event.refs.button.focus();\n}\n\nfunction listboxIsNotDisabled(data, event) {\n  return !event.disabled;\n}\n\nfunction optionIsNavigable(data, event) {\n  if (event.type === ListboxEvents.OptionTouchStart) {\n    if (event && event.disabled) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction optionIsSelectable(data, event) {\n  if (event && event.disabled) {\n    return false;\n  }\n\n  return data.navigationValue != null;\n}\n\nfunction selectOption(data, event) {\n  event.callback && event.callback(event.value);\n}\n\nfunction submitForm(data, event) {\n  if (event.type !== ListboxEvents.KeyDownEnter) {\n    return;\n  } // So this one is a little weird, but here's what we're doing.\n  // When a user presses Enter in the context of a form, the form\n  // should submit. Now I know you're probably thinking:\n  //\n  //      \"Aha! I've got it!\"\n  //          > inputNode.form.submit()\n  //      ** cracks knuckles ** \"Phew. My work here is done.\"\n  //\n  // But alas, we are not so lucky. What's really happening when a\n  // user presses enter in a normal form field is that the browser\n  // looks at the form the input is in, then looks for the first\n  // button or input in that form where its type property is `submit`,\n  // then it triggers a click event on that button. COOL, CARRY ON.\n  //\n  // If we were to fire inputNode.form.submit(), this would bypass any\n  // onSubmit handler in the form and just do what the browser\n  // normally does when you submit a form and trigger a page refresh.\n  // No bueno. So we do what the browser does and just go on a duck\n  // hunt for the first submit button in the form and we click that\n  // sucker.\n\n\n  var hiddenInput = event.refs.hiddenInput;\n\n  if (hiddenInput && hiddenInput.form) {\n    var submitButton = hiddenInput.form.querySelector(\"button,[type='submit']\");\n    submitButton && submitButton.click();\n  }\n}\n\nvar setTypeahead = /*#__PURE__*/assign({\n  typeaheadQuery: function typeaheadQuery(data, event) {\n    return (data.typeaheadQuery || \"\") + event.query;\n  }\n});\nvar setValueFromTypeahead = /*#__PURE__*/assign({\n  value: function value(data, event) {\n    if (event.type === ListboxEvents.UpdateAfterTypeahead && event.query) {\n      var match = findOptionFromTypeahead(data.options, event.query);\n\n      if (match && !match.disabled) {\n        event.callback && event.callback(match.value);\n        return match.value;\n      }\n    }\n\n    return data.value;\n  }\n});\nvar setNavSelectionFromTypeahead = /*#__PURE__*/assign({\n  navigationValue: function navigationValue(data, event) {\n    if (event.type === ListboxEvents.UpdateAfterTypeahead && event.query) {\n      var match = findOptionFromTypeahead(data.options, event.query);\n\n      if (match && !match.disabled) {\n        return match.value;\n      }\n    }\n\n    return data.navigationValue;\n  }\n});\nvar commonEvents = (_commonEvents = {}, _commonEvents[ListboxEvents.GetDerivedData] = {\n  actions: /*#__PURE__*/assign(function (ctx, event) {\n    return _extends({}, ctx, event.data);\n  })\n}, _commonEvents[ListboxEvents.ValueChange] = {\n  actions: [assignValue, selectOption]\n}, _commonEvents); ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * Initializer for our state machine.\r\n *\r\n * @param initial\r\n * @param props\r\n */\n\nvar createMachineDefinition = function createMachineDefinition(_ref) {\n  var _extends2, _extends3, _extends4, _extends5, _extends6, _states;\n\n  var value = _ref.value;\n  return {\n    id: \"listbox\",\n    initial: ListboxStates.Idle,\n    context: {\n      value: value,\n      options: [],\n      navigationValue: null,\n      typeaheadQuery: null\n    },\n    states: (_states = {}, _states[ListboxStates.Idle] = {\n      on: _extends({}, commonEvents, (_extends2 = {}, _extends2[ListboxEvents.ButtonMouseDown] = {\n        target: ListboxStates.Open,\n        actions: [navigateFromCurrentValue],\n        cond: listboxIsNotDisabled\n      }, _extends2[ListboxEvents.KeyDownSpace] = {\n        target: ListboxStates.Navigating,\n        actions: [navigateFromCurrentValue, focusList],\n        cond: listboxIsNotDisabled\n      }, _extends2[ListboxEvents.KeyDownSearch] = {\n        target: ListboxStates.Idle,\n        actions: setTypeahead,\n        cond: listboxIsNotDisabled\n      }, _extends2[ListboxEvents.UpdateAfterTypeahead] = {\n        target: ListboxStates.Idle,\n        actions: [setValueFromTypeahead],\n        cond: listboxIsNotDisabled\n      }, _extends2[ListboxEvents.ClearTypeahead] = {\n        target: ListboxStates.Idle,\n        actions: clearTypeahead\n      }, _extends2[ListboxEvents.KeyDownNavigate] = {\n        target: ListboxStates.Navigating,\n        actions: [navigateFromCurrentValue, clearTypeahead, focusList],\n        cond: listboxIsNotDisabled\n      }, _extends2[ListboxEvents.KeyDownEnter] = {\n        actions: [submitForm],\n        cond: listboxIsNotDisabled\n      }, _extends2))\n    }, _states[ListboxStates.Interacting] = {\n      entry: [clearNavigationValue],\n      on: _extends({}, commonEvents, (_extends3 = {}, _extends3[ListboxEvents.ClearNavSelection] = {\n        actions: [clearNavigationValue, focusList]\n      }, _extends3[ListboxEvents.KeyDownEnter] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends3[ListboxEvents.KeyDownSpace] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends3[ListboxEvents.ButtonMouseDown] = {\n        target: ListboxStates.Idle,\n        // When the user triggers a mouseDown event on the button, we call\n        // event.preventDefault() because the browser will naturally send a\n        // mouseup event and click, which will reopen the button (which we\n        // don't want). As such, the click won't blur the open list or\n        // re-focus the trigger, so we call `focusButton` to do that manually.\n        // We could work around this with deferred transitions with xstate,\n        // but @xstate/fsm currently doesn't support that feature and this\n        // works good enough for the moment.\n        actions: [focusButton]\n      }, _extends3[ListboxEvents.KeyDownEscape] = {\n        target: ListboxStates.Idle,\n        actions: [focusButton]\n      }, _extends3[ListboxEvents.OptionMouseDown] = {\n        target: ListboxStates.Dragging\n      }, _extends3[ListboxEvents.OutsideMouseDown] = [{\n        target: ListboxStates.Idle,\n        cond: clickedOutsideOfListbox,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Dragging,\n        actions: clearTypeahead,\n        cond: optionIsActive\n      }], _extends3[ListboxEvents.OutsideMouseUp] = [{\n        target: ListboxStates.Idle,\n        cond: clickedOutsideOfListbox,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Navigating,\n        cond: optionIsActive\n      }, {\n        target: ListboxStates.Interacting,\n        actions: clearTypeahead\n      }], _extends3[ListboxEvents.KeyDownEnter] = ListboxStates.Interacting, _extends3[ListboxEvents.Blur] = [{\n        target: ListboxStates.Idle,\n        cond: listboxLostFocus,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Navigating,\n        cond: shouldNavigate\n      }, {\n        target: ListboxStates.Interacting,\n        actions: clearTypeahead\n      }], _extends3[ListboxEvents.OptionTouchStart] = {\n        target: ListboxStates.Navigating,\n        actions: [navigate, clearTypeahead],\n        cond: optionIsNavigable\n      }, _extends3[ListboxEvents.OptionMouseEnter] = {\n        target: ListboxStates.Navigating,\n        actions: [navigate, clearTypeahead],\n        cond: optionIsNavigable\n      }, _extends3[ListboxEvents.KeyDownNavigate] = {\n        target: ListboxStates.Navigating,\n        actions: [navigate, clearTypeahead, focusList]\n      }, _extends3))\n    }, _states[ListboxStates.Open] = {\n      on: _extends({}, commonEvents, (_extends4 = {}, _extends4[ListboxEvents.ClearNavSelection] = {\n        actions: [clearNavigationValue]\n      }, _extends4[ListboxEvents.KeyDownEnter] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends4[ListboxEvents.KeyDownSpace] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends4[ListboxEvents.ButtonMouseDown] = {\n        target: ListboxStates.Idle,\n        actions: [focusButton]\n      }, _extends4[ListboxEvents.KeyDownEscape] = {\n        target: ListboxStates.Idle,\n        actions: [focusButton]\n      }, _extends4[ListboxEvents.OptionMouseDown] = {\n        target: ListboxStates.Dragging\n      }, _extends4[ListboxEvents.OutsideMouseDown] = [{\n        target: ListboxStates.Idle,\n        cond: clickedOutsideOfListbox,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Dragging,\n        cond: optionIsActive\n      }, {\n        target: ListboxStates.Interacting,\n        actions: clearTypeahead\n      }], _extends4[ListboxEvents.OutsideMouseUp] = [{\n        target: ListboxStates.Idle,\n        cond: clickedOutsideOfListbox,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Navigating,\n        cond: optionIsActive\n      }, {\n        target: ListboxStates.Interacting,\n        actions: clearTypeahead\n      }], _extends4[ListboxEvents.Blur] = [{\n        target: ListboxStates.Idle,\n        cond: listboxLostFocus,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Navigating,\n        cond: shouldNavigate\n      }, {\n        target: ListboxStates.Interacting,\n        actions: clearTypeahead\n      }], _extends4[ListboxEvents.ButtonMouseUp] = {\n        target: ListboxStates.Navigating,\n        actions: [navigateFromCurrentValue, focusList]\n      }, _extends4[ListboxEvents.OptionTouchStart] = {\n        target: ListboxStates.Navigating,\n        actions: [navigate, clearTypeahead],\n        cond: optionIsNavigable\n      }, _extends4[ListboxEvents.KeyDownNavigate] = {\n        target: ListboxStates.Navigating,\n        actions: [navigate, clearTypeahead, focusList]\n      }, _extends4[ListboxEvents.KeyDownSearch] = {\n        target: ListboxStates.Navigating,\n        actions: setTypeahead\n      }, _extends4[ListboxEvents.UpdateAfterTypeahead] = {\n        actions: [setNavSelectionFromTypeahead]\n      }, _extends4[ListboxEvents.ClearTypeahead] = {\n        actions: clearTypeahead\n      }, _extends4[ListboxEvents.OptionMouseMove] = [{\n        target: ListboxStates.Dragging,\n        actions: [navigate],\n        cond: optionIsNavigable\n      }, {\n        target: ListboxStates.Dragging\n      }], _extends4))\n    }, _states[ListboxStates.Dragging] = {\n      on: _extends({}, commonEvents, (_extends5 = {}, _extends5[ListboxEvents.ClearNavSelection] = {\n        actions: [clearNavigationValue]\n      }, _extends5[ListboxEvents.KeyDownEnter] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends5[ListboxEvents.KeyDownSpace] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends5[ListboxEvents.ButtonMouseDown] = {\n        target: ListboxStates.Idle,\n        actions: [focusButton]\n      }, _extends5[ListboxEvents.KeyDownEscape] = {\n        target: ListboxStates.Idle,\n        actions: [focusButton]\n      }, _extends5[ListboxEvents.OptionMouseDown] = {\n        target: ListboxStates.Dragging\n      }, _extends5[ListboxEvents.OutsideMouseDown] = [{\n        target: ListboxStates.Idle,\n        cond: clickedOutsideOfListbox,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Navigating,\n        cond: optionIsActive\n      }, {\n        target: ListboxStates.Interacting,\n        actions: clearTypeahead\n      }], _extends5[ListboxEvents.OutsideMouseUp] = [{\n        target: ListboxStates.Idle,\n        cond: clickedOutsideOfListbox,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Navigating,\n        cond: optionIsActive,\n        actions: focusList\n      }, {\n        target: ListboxStates.Interacting,\n        actions: [clearTypeahead, focusList]\n      }], _extends5[ListboxEvents.Blur] = [{\n        target: ListboxStates.Idle,\n        cond: listboxLostFocus,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Navigating,\n        cond: shouldNavigate\n      }, {\n        target: ListboxStates.Interacting,\n        actions: clearTypeahead\n      }], _extends5[ListboxEvents.ButtonMouseUp] = {\n        target: ListboxStates.Navigating,\n        actions: [navigateFromCurrentValue, focusList]\n      }, _extends5[ListboxEvents.OptionTouchStart] = {\n        target: ListboxStates.Navigating,\n        actions: [navigate, clearTypeahead],\n        cond: optionIsNavigable\n      }, _extends5[ListboxEvents.OptionMouseEnter] = {\n        target: ListboxStates.Dragging,\n        actions: [navigate, clearTypeahead],\n        cond: optionIsNavigable\n      }, _extends5[ListboxEvents.KeyDownNavigate] = {\n        target: ListboxStates.Navigating,\n        actions: [navigate, clearTypeahead, focusList]\n      }, _extends5[ListboxEvents.KeyDownSearch] = {\n        target: ListboxStates.Navigating,\n        actions: setTypeahead\n      }, _extends5[ListboxEvents.UpdateAfterTypeahead] = {\n        actions: [setNavSelectionFromTypeahead]\n      }, _extends5[ListboxEvents.ClearTypeahead] = {\n        actions: clearTypeahead\n      }, _extends5[ListboxEvents.OptionMouseMove] = [{\n        target: ListboxStates.Navigating,\n        actions: [navigate],\n        cond: optionIsNavigable\n      }, {\n        target: ListboxStates.Navigating\n      }], _extends5[ListboxEvents.OptionMouseUp] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends5))\n    }, _states[ListboxStates.Navigating] = {\n      on: _extends({}, commonEvents, (_extends6 = {}, _extends6[ListboxEvents.ClearNavSelection] = {\n        actions: [clearNavigationValue, focusList]\n      }, _extends6[ListboxEvents.KeyDownEnter] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends6[ListboxEvents.KeyDownSpace] = {\n        target: ListboxStates.Idle,\n        actions: [assignValue, clearTypeahead, focusButton, selectOption],\n        cond: optionIsSelectable\n      }, _extends6[ListboxEvents.ButtonMouseDown] = {\n        target: ListboxStates.Idle,\n        actions: [focusButton]\n      }, _extends6[ListboxEvents.KeyDownEscape] = {\n        target: ListboxStates.Idle,\n        actions: [focusButton]\n      }, _extends6[ListboxEvents.OptionMouseDown] = {\n        target: ListboxStates.Dragging\n      }, _extends6[ListboxEvents.OutsideMouseDown] = [{\n        target: ListboxStates.Idle,\n        cond: clickedOutsideOfListbox,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Navigating,\n        cond: optionIsActive\n      }, {\n        target: ListboxStates.Interacting,\n        actions: clearTypeahead\n      }], _extends6[ListboxEvents.OutsideMouseUp] = [{\n        target: ListboxStates.Idle,\n        cond: clickedOutsideOfListbox,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Navigating,\n        cond: optionIsActive\n      }, {\n        target: ListboxStates.Interacting,\n        actions: clearTypeahead\n      }], _extends6[ListboxEvents.Blur] = [{\n        target: ListboxStates.Idle,\n        cond: listboxLostFocus,\n        actions: clearTypeahead\n      }, {\n        target: ListboxStates.Navigating,\n        cond: shouldNavigate\n      }, {\n        target: ListboxStates.Interacting,\n        actions: clearTypeahead\n      }], _extends6[ListboxEvents.ButtonMouseUp] = {\n        target: ListboxStates.Navigating,\n        actions: [navigateFromCurrentValue, focusList]\n      }, _extends6[ListboxEvents.OptionTouchStart] = {\n        target: ListboxStates.Navigating,\n        actions: [navigate, clearTypeahead],\n        cond: optionIsNavigable\n      }, _extends6[ListboxEvents.OptionMouseEnter] = {\n        target: ListboxStates.Navigating,\n        actions: [navigate, clearTypeahead],\n        cond: optionIsNavigable\n      }, _extends6[ListboxEvents.KeyDownNavigate] = {\n        target: ListboxStates.Navigating,\n        actions: [navigate, clearTypeahead, focusList]\n      }, _extends6[ListboxEvents.KeyDownSearch] = {\n        target: ListboxStates.Navigating,\n        actions: setTypeahead\n      }, _extends6[ListboxEvents.UpdateAfterTypeahead] = {\n        actions: [setNavSelectionFromTypeahead]\n      }, _extends6[ListboxEvents.ClearTypeahead] = {\n        actions: clearTypeahead\n      }, _extends6[ListboxEvents.OptionMouseMove] = [{\n        target: ListboxStates.Navigating,\n        actions: [navigate],\n        cond: optionIsNavigable\n      }, {\n        target: ListboxStates.Navigating\n      }], _extends6))\n    }, _states)\n  };\n}; ////////////////////////////////////////////////////////////////////////////////\n\n\nfunction findOptionFromTypeahead(options, string) {\n  if (string === void 0) {\n    string = \"\";\n  }\n\n  if (!string) return null;\n  var found = options.find(function (option) {\n    return !option.disabled && option.label && option.label.toLowerCase().startsWith(string.toLowerCase());\n  });\n  return found || null;\n}\n\nfunction findOptionFromValue(value, options) {\n  return value ? options.find(function (option) {\n    return option.value === value;\n  }) : undefined;\n}\n\nvar DEBUG = false; ////////////////////////////////////////////////////////////////////////////////\n// ListboxContext\n\nvar ListboxDescendantContext = /*#__PURE__*/createDescendantContext(\"ListboxDescendantContext\");\nvar ListboxContext = /*#__PURE__*/createNamedContext(\"ListboxContext\", {});\nvar ListboxGroupContext = /*#__PURE__*/createNamedContext(\"ListboxGroupContext\", {}); ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * ListboxInput\r\n *\r\n * The top-level component and context provider for the listbox.\r\n *\r\n * @see Docs https://reach.tech/listbox#listboxinput\r\n */\n\nvar ListboxInput = /*#__PURE__*/forwardRef(function ListboxInput(_ref, forwardedRef) {\n  var ariaLabelledBy = _ref[\"aria-labelledby\"],\n      ariaLabel = _ref[\"aria-label\"],\n      children = _ref.children,\n      defaultValue = _ref.defaultValue,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      form = _ref.form,\n      name = _ref.name,\n      onChangeProp = _ref.onChange,\n      required = _ref.required,\n      valueProp = _ref.value,\n      _ref$_componentName = _ref._componentName,\n      _componentName = _ref$_componentName === void 0 ? \"ListboxInput\" : _ref$_componentName,\n      props = _objectWithoutPropertiesLoose(_ref, [\"aria-labelledby\", \"aria-label\", \"children\", \"defaultValue\", \"disabled\", \"form\", \"name\", \"onChange\", \"required\", \"value\", \"_componentName\"]);\n\n  var isControlled = useRef(valueProp != null);\n\n  var _useDescendantsInit = useDescendantsInit(),\n      options = _useDescendantsInit[0],\n      setOptions = _useDescendantsInit[1];\n\n  var onChange = useCallbackProp(onChangeProp); // DOM refs\n\n  var buttonRef = useRef(null);\n  var hiddenInputRef = useRef(null);\n  var highlightedOptionRef = useRef(null);\n  var inputRef = useRef(null);\n  var listRef = useRef(null);\n  var popoverRef = useRef(null);\n  var selectedOptionRef = useRef(null);\n  var machine = useCreateMachine(createMachineDefinition({\n    // The initial value of our machine should come from the `value` or\n    // `defaultValue` props if they exist.\n    value: (isControlled.current ? valueProp : defaultValue) || null\n  }));\n\n  var _useMachine = useMachine(machine, {\n    button: buttonRef,\n    hiddenInput: hiddenInputRef,\n    highlightedOption: highlightedOptionRef,\n    input: inputRef,\n    list: listRef,\n    popover: popoverRef,\n    selectedOption: selectedOptionRef\n  }, DEBUG),\n      state = _useMachine[0],\n      send = _useMachine[1]; // IDs for aria attributes\n\n\n  var _id = useId(props.id);\n\n  var id = props.id || makeId(\"listbox-input\", _id);\n  var ref = useForkedRef(inputRef, forwardedRef); // If the button has children, we just render them as the label.\n  // Otherwise we'll find the option with a value that matches the listbox value\n  // and use its label in the button. We'll get that here and send it to the\n  // button via context.\n  // If a user needs the label for SSR to prevent hydration mismatch issues,\n  // they need to control the state of the component and pass a label directly\n  // to the button.\n\n  var valueLabel = useMemo(function () {\n    var selected = options.find(function (option) {\n      return option.value === state.context.value;\n    });\n    return selected ? selected.label : null;\n  }, [options, state.context.value]);\n  var isExpanded = isListboxExpanded(state.value); // TODO: Remove duplication and memoize\n\n  var context = useMemo(function () {\n    return {\n      ariaLabel: ariaLabel,\n      ariaLabelledBy: ariaLabelledBy,\n      disabled: disabled,\n      isExpanded: isExpanded,\n      listboxId: id,\n      listboxValueLabel: valueLabel,\n      onValueChange: onChange,\n      buttonRef: buttonRef,\n      listRef: listRef,\n      popoverRef: popoverRef,\n      selectedOptionRef: selectedOptionRef,\n      highlightedOptionRef: highlightedOptionRef,\n      send: send,\n      state: state.value,\n      stateData: state.context\n    };\n  }, [ariaLabel, ariaLabelledBy, state.value, state.context, disabled, id, isExpanded, onChange, send, valueLabel]); // For uncontrolled listbox components where no `defaultValue` is provided, we\n  // will update the value based on the value of the first selectable option.\n  // We call the update directly because:\n  //   A) we only ever need to do this once, so we can guard with a ref\n  //   B) useLayoutEffect races useDecendant, so we might not have options yet\n  //   C) useEffect will cause a flash\n\n  var mounted = useRef(false);\n\n  if (!isControlled.current && // the app is not controlling state\n  defaultValue == null && // there is no default value\n  !mounted.current && // we haven't done this already\n  options.length // we have some options\n  ) {\n      mounted.current = true;\n      var first = options.find(function (option) {\n        return !option.disabled;\n      });\n\n      if (first && first.value) {\n        send({\n          type: ListboxEvents.ValueChange,\n          value: first.value\n        });\n      }\n    }\n\n  useControlledSwitchWarning(valueProp, \"value\", _componentName); // Even if the app controls state, we still need to update it internally to\n  // run the state machine transitions\n\n  useControlledStateSync(valueProp, state.context.value, function () {\n    send({\n      type: ListboxEvents.ValueChange,\n      value: valueProp\n    });\n  });\n  useIsomorphicLayoutEffect(function () {\n    send({\n      type: ListboxEvents.GetDerivedData,\n      data: {\n        options: options\n      }\n    });\n  }, [options, send]);\n  useEffect(function () {\n    function handleMouseDown(event) {\n      var target = event.target,\n          relatedTarget = event.relatedTarget;\n\n      if (!targetIsInPopover(target, popoverRef.current)) {\n        send({\n          type: ListboxEvents.OutsideMouseDown,\n          relatedTarget: relatedTarget || target\n        });\n      }\n    }\n\n    if (isExpanded) {\n      window.addEventListener(\"mousedown\", handleMouseDown);\n    }\n\n    return function () {\n      window.removeEventListener(\"mousedown\", handleMouseDown);\n    };\n  }, [send, isExpanded]);\n  useEffect(function () {\n    function handleMouseUp(event) {\n      var target = event.target,\n          relatedTarget = event.relatedTarget;\n\n      if (!targetIsInPopover(target, popoverRef.current)) {\n        send({\n          type: ListboxEvents.OutsideMouseUp,\n          relatedTarget: relatedTarget || target\n        });\n      }\n    }\n\n    if (isExpanded) {\n      window.addEventListener(\"mouseup\", handleMouseUp);\n    }\n\n    return function () {\n      window.removeEventListener(\"mouseup\", handleMouseUp);\n    };\n  }, [send, isExpanded]);\n  useCheckStyles(\"listbox\");\n  return React.createElement(DescendantProvider, {\n    context: ListboxDescendantContext,\n    items: options,\n    set: setOptions\n  }, React.createElement(ListboxContext.Provider, {\n    value: context\n  }, React.createElement(\"div\", Object.assign({}, props, {\n    ref: ref,\n    \"data-reach-listbox-input\": \"\",\n    \"data-state\": isExpanded ? \"expanded\" : \"closed\",\n    \"data-value\": state.context.value,\n    id: id\n  }), isFunction(children) ? children({\n    id: id,\n    isExpanded: isExpanded,\n    value: state.context.value,\n    selectedOptionRef: selectedOptionRef,\n    highlightedOptionRef: highlightedOptionRef,\n    valueLabel: valueLabel,\n    // TODO: Remove in 1.0\n    expanded: isExpanded\n  }) : children), (form || name || required) && React.createElement(\"input\", {\n    ref: hiddenInputRef,\n    \"data-reach-listbox-hidden-input\": \"\",\n    disabled: disabled,\n    form: form,\n    name: name,\n    readOnly: true,\n    required: required,\n    tabIndex: -1,\n    type: \"hidden\",\n    value: state.context.value || \"\"\n  })));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ListboxInput.displayName = \"ListboxInput\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * Listbox\r\n *\r\n * High-level listbox API\r\n *\r\n * @example\r\n * <Listbox>\r\n *   <ListboxOption value=\"1\">Option 1</ListboxOption>\r\n *   <ListboxOption value=\"2\">Option 2</ListboxOption>\r\n *   <ListboxOption value=\"3\">Option 3</ListboxOption>\r\n * </Listbox>\r\n *\r\n * @see Docs https://reach.tech/listbox#listbox-1\r\n */\n\n\nvar Listbox = /*#__PURE__*/forwardRef(function Listbox(_ref2, forwardedRef) {\n  var _ref2$arrow = _ref2.arrow,\n      arrow = _ref2$arrow === void 0 ? \"‚ñº\" : _ref2$arrow,\n      button = _ref2.button,\n      children = _ref2.children,\n      _ref2$portal = _ref2.portal,\n      portal = _ref2$portal === void 0 ? true : _ref2$portal,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"arrow\", \"button\", \"children\", \"portal\"]);\n\n  return React.createElement(ListboxInput, Object.assign({}, props, {\n    _componentName: \"Listbox\",\n    ref: forwardedRef\n  }), function (_ref3) {\n    var value = _ref3.value,\n        valueLabel = _ref3.valueLabel;\n    return React.createElement(Fragment, null, React.createElement(ListboxButton, {\n      arrow: arrow,\n      children: button ? isFunction(button) ? button({\n        value: value,\n        label: valueLabel\n      }) : button : undefined\n    }), React.createElement(ListboxPopover, {\n      portal: portal\n    }, React.createElement(ListboxList, null, children)));\n  });\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  Listbox.displayName = \"Listbox\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * ListboxButton\r\n *\r\n * The interactive toggle button that triggers the popover for the listbox.\r\n *\r\n * @see Docs https://reach.tech/listbox#listbox-button\r\n */\n\n\nvar ListboxButtonImpl = /*#__PURE__*/forwardRefWithAs(function ListboxButton(_ref4, forwardedRef) {\n  var ariaLabel = _ref4[\"aria-label\"],\n      _ref4$arrow = _ref4.arrow,\n      arrow = _ref4$arrow === void 0 ? false : _ref4$arrow,\n      _ref4$as = _ref4.as,\n      Comp = _ref4$as === void 0 ? \"span\" : _ref4$as,\n      children = _ref4.children,\n      onKeyDown = _ref4.onKeyDown,\n      onMouseDown = _ref4.onMouseDown,\n      onMouseUp = _ref4.onMouseUp,\n      props = _objectWithoutPropertiesLoose(_ref4, [\"aria-label\", \"arrow\", \"as\", \"children\", \"onKeyDown\", \"onMouseDown\", \"onMouseUp\"]);\n\n  var _useContext = useContext(ListboxContext),\n      ariaLabelledBy = _useContext.ariaLabelledBy,\n      buttonRef = _useContext.buttonRef,\n      disabled = _useContext.disabled,\n      isExpanded = _useContext.isExpanded,\n      listboxId = _useContext.listboxId,\n      stateData = _useContext.stateData,\n      send = _useContext.send,\n      listboxValueLabel = _useContext.listboxValueLabel;\n\n  var listboxValue = stateData.value;\n  var ref = useForkedRef(buttonRef, forwardedRef);\n  var handleKeyDown = useKeyDown();\n\n  function handleMouseDown(event) {\n    if (!isRightClick(event.nativeEvent)) {\n      event.preventDefault();\n      event.stopPropagation();\n      send({\n        type: ListboxEvents.ButtonMouseDown,\n        disabled: disabled\n      });\n    }\n  }\n\n  function handleMouseUp(event) {\n    if (!isRightClick(event.nativeEvent)) {\n      event.preventDefault();\n      event.stopPropagation();\n      send({\n        type: ListboxEvents.ButtonMouseUp\n      });\n    }\n  }\n\n  var id = makeId(\"button\", listboxId); // If the button has children, we just render them as the label\n  // If a user needs the label on the server to prevent hydration mismatch\n  // errors, they need to control the state of the component and pass a label\n  // directly to the button.\n\n  var label = useMemo(function () {\n    if (!children) {\n      return listboxValueLabel;\n    } else if (isFunction(children)) {\n      return children({\n        isExpanded: isExpanded,\n        label: listboxValueLabel,\n        value: listboxValue,\n        // TODO: Remove in 1.0\n        expanded: isExpanded\n      });\n    }\n\n    return children;\n  }, [children, listboxValueLabel, isExpanded, listboxValue]);\n  return React.createElement(Comp // Applicable to all host language elements regardless of whether a\n  // `role` is applied.\n  // https://www.w3.org/WAI/PF/aria/states_and_properties#global_states_header\n  , Object.assign({\n    \"aria-disabled\": disabled || undefined,\n    \"aria-expanded\": isExpanded || undefined,\n    \"aria-haspopup\": \"listbox\",\n    \"aria-labelledby\": ariaLabel ? undefined : [ariaLabelledBy, id].filter(Boolean).join(\" \"),\n    \"aria-label\": ariaLabel,\n    // Identifies the element as a button widget.\n    // https://www.w3.org/TR/wai-aria-practices-1.2/examples/button/button.html\n    role: \"button\",\n    // Includes the element in the tab sequence.\n    // https://www.w3.org/TR/wai-aria-practices-1.2/examples/button/button.html\n    tabIndex: disabled ? -1 : 0\n  }, props, {\n    ref: ref,\n    \"data-reach-listbox-button\": \"\",\n    id: id,\n    onKeyDown: wrapEvent(onKeyDown, handleKeyDown),\n    onMouseDown: wrapEvent(onMouseDown, handleMouseDown),\n    onMouseUp: wrapEvent(onMouseUp, handleMouseUp)\n  }), label, arrow && React.createElement(ListboxArrow, null, isBoolean(arrow) ? null : arrow));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ListboxButtonImpl.displayName = \"ListboxButton\";\n}\n\nvar ListboxButton = /*#__PURE__*/memoWithAs(ListboxButtonImpl); ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * ListboxArrow\r\n *\r\n * A wrapper component for an arrow to display in the `ListboxButton`\r\n *\r\n * @see Docs https://reach.tech/listbox#listboxarrow\r\n */\n\nvar ListboxArrowImpl = /*#__PURE__*/forwardRef(function ListboxArrow(_ref5, forwardedRef) {\n  var children = _ref5.children,\n      props = _objectWithoutPropertiesLoose(_ref5, [\"children\"]);\n\n  var _useContext2 = useContext(ListboxContext),\n      isExpanded = _useContext2.isExpanded;\n\n  return React.createElement(\"span\", Object.assign({\n    \"aria-hidden\": true\n  }, props, {\n    ref: forwardedRef,\n    \"data-reach-listbox-arrow\": \"\",\n    \"data-expanded\": isExpanded ? \"\" : undefined\n  }), isFunction(children) ? children({\n    isExpanded: isExpanded,\n    // TODO: Remove in 1.0\n    expanded: isExpanded\n  }) : children || \"‚ñº\");\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ListboxArrowImpl.displayName = \"ListboxArrow\";\n}\n\nvar ListboxArrow = /*#__PURE__*/memo(ListboxArrowImpl); ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * ListboxPopover\r\n *\r\n * The popover containing the list of options.\r\n *\r\n * @see Docs https://reach.tech/listbox#listboxpopover\r\n */\n\nvar ListboxPopoverImpl = /*#__PURE__*/forwardRef(function ListboxPopover(_ref6, forwardedRef) {\n  var _ref6$position = _ref6.position,\n      position = _ref6$position === void 0 ? positionMatchWidth : _ref6$position,\n      onBlur = _ref6.onBlur,\n      onKeyDown = _ref6.onKeyDown,\n      _ref6$portal = _ref6.portal,\n      portal = _ref6$portal === void 0 ? true : _ref6$portal,\n      unstable_observableRefs = _ref6.unstable_observableRefs,\n      props = _objectWithoutPropertiesLoose(_ref6, [\"position\", \"onBlur\", \"onKeyDown\", \"portal\", \"unstable_observableRefs\"]);\n\n  var _useContext3 = useContext(ListboxContext),\n      buttonRef = _useContext3.buttonRef,\n      popoverRef = _useContext3.popoverRef,\n      send = _useContext3.send,\n      isExpanded = _useContext3.isExpanded;\n\n  var ref = useForkedRef(popoverRef, forwardedRef);\n  var handleKeyDown = useKeyDown();\n\n  var commonProps = _extends({\n    hidden: !isExpanded,\n    tabIndex: -1\n  }, props, {\n    ref: ref,\n    \"data-reach-listbox-popover\": \"\",\n    onBlur: wrapEvent(onBlur, handleBlur),\n    onKeyDown: wrapEvent(onKeyDown, handleKeyDown)\n  });\n\n  function handleBlur(event) {\n    var nativeEvent = event.nativeEvent;\n    requestAnimationFrame(function () {\n      send({\n        type: ListboxEvents.Blur,\n        relatedTarget: nativeEvent.relatedTarget || nativeEvent.target\n      });\n    });\n  }\n\n  return portal ? React.createElement(Popover, Object.assign({}, commonProps, {\n    targetRef: buttonRef,\n    position: position,\n    unstable_observableRefs: unstable_observableRefs\n  })) : React.createElement(\"div\", Object.assign({}, commonProps));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ListboxPopoverImpl.displayName = \"ListboxPopover\";\n}\n\nvar ListboxPopover = /*#__PURE__*/memo(ListboxPopoverImpl); ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * ListboxList\r\n *\r\n * The list containing all listbox options.\r\n *\r\n * @see Docs https://reach.tech/listbox#listboxlist\r\n */\n\nvar ListboxList = /*#__PURE__*/forwardRefWithAs(function ListboxList(_ref7, forwardedRef) {\n  var _ref7$as = _ref7.as,\n      Comp = _ref7$as === void 0 ? \"ul\" : _ref7$as,\n      props = _objectWithoutPropertiesLoose(_ref7, [\"as\"]);\n\n  var _useContext4 = useContext(ListboxContext),\n      ariaLabel = _useContext4.ariaLabel,\n      ariaLabelledBy = _useContext4.ariaLabelledBy,\n      isExpanded = _useContext4.isExpanded,\n      listboxId = _useContext4.listboxId,\n      listRef = _useContext4.listRef,\n      _useContext4$stateDat = _useContext4.stateData,\n      value = _useContext4$stateDat.value,\n      navigationValue = _useContext4$stateDat.navigationValue;\n\n  var ref = useForkedRef(forwardedRef, listRef);\n  return React.createElement(Comp // Tells assistive technologies which of the options, if any, is\n  // visually indicated as having keyboard focus. DOM focus remains on the\n  // `ul` element and the idref specified for `aria-activedescendant`\n  // refers to the `li` element that is visually styled as focused. When\n  // navigation keys, such as `Down Arrow`, are pressed, the JavaScript\n  // changes the value.\n  // https://www.w3.org/TR/wai-aria-practices-1.2/examples/listbox/listbox-grouped.html\n  , Object.assign({\n    \"aria-activedescendant\": useOptionId(isExpanded ? navigationValue : value),\n    \"aria-labelledby\": ariaLabel ? undefined : ariaLabelledBy,\n    \"aria-label\": ariaLabel,\n    // An element that contains or owns all the listbox options has role\n    // listbox.\n    // https://www.w3.org/TR/wai-aria-practices-1.2/#Listbox\n    role: \"listbox\",\n    // https://www.w3.org/TR/wai-aria-practices-1.2/examples/listbox/listbox-collapsible.html\n    tabIndex: -1\n  }, props, {\n    ref: ref,\n    \"data-reach-listbox-list\": \"\",\n    id: makeId(\"listbox\", listboxId)\n  }));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ListboxList.displayName = \"ListboxList\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * ListboxOption\r\n *\r\n * A selectable option for the listbox.\r\n *\r\n * @see Docs https://reach.tech/listbox#listboxoption\r\n */\n\n\nvar ListboxOption = /*#__PURE__*/forwardRefWithAs(function ListboxOption(_ref8, forwardedRef) {\n  var _ref8$as = _ref8.as,\n      Comp = _ref8$as === void 0 ? \"li\" : _ref8$as,\n      children = _ref8.children,\n      disabled = _ref8.disabled,\n      onMouseDown = _ref8.onMouseDown,\n      onMouseEnter = _ref8.onMouseEnter,\n      onMouseLeave = _ref8.onMouseLeave,\n      onMouseMove = _ref8.onMouseMove,\n      onMouseUp = _ref8.onMouseUp,\n      onTouchStart = _ref8.onTouchStart,\n      value = _ref8.value,\n      labelProp = _ref8.label,\n      props = _objectWithoutPropertiesLoose(_ref8, [\"as\", \"children\", \"disabled\", \"onMouseDown\", \"onMouseEnter\", \"onMouseLeave\", \"onMouseMove\", \"onMouseUp\", \"onTouchStart\", \"value\", \"label\"]);\n\n  if (process.env.NODE_ENV !== \"production\" && !value) {\n    throw Error(\"A ListboxOption must have a value prop.\");\n  }\n\n  var _useContext5 = useContext(ListboxContext),\n      highlightedOptionRef = _useContext5.highlightedOptionRef,\n      isExpanded = _useContext5.isExpanded,\n      onValueChange = _useContext5.onValueChange,\n      selectedOptionRef = _useContext5.selectedOptionRef,\n      send = _useContext5.send,\n      state = _useContext5.state,\n      _useContext5$stateDat = _useContext5.stateData,\n      listboxValue = _useContext5$stateDat.value,\n      navigationValue = _useContext5$stateDat.navigationValue;\n\n  var _useState = useState(labelProp),\n      labelState = _useState[0],\n      setLabel = _useState[1];\n\n  var label = labelProp || labelState || \"\";\n  var ownRef = useRef(null);\n  useDescendant({\n    element: ownRef.current,\n    value: value,\n    label: label,\n    disabled: !!disabled\n  }, ListboxDescendantContext); // After the ref is mounted to the DOM node, we check to see if we have an\n  // explicit label prop before looking for the node's textContent for\n  // typeahead functionality.\n\n  var getLabelFromDomNode = useCallback(function (node) {\n    if (!labelProp && node) {\n      setLabel(function (prevState) {\n        if (node.textContent && prevState !== node.textContent) {\n          return node.textContent;\n        }\n\n        return prevState || \"\";\n      });\n    }\n  }, [labelProp]);\n  var isHighlighted = navigationValue ? navigationValue === value : false;\n  var isSelected = listboxValue === value;\n  var ref = useForkedRef(getLabelFromDomNode, forwardedRef, ownRef, isSelected ? selectedOptionRef : null, isHighlighted ? highlightedOptionRef : null);\n\n  function handleMouseEnter() {\n    send({\n      type: ListboxEvents.OptionMouseEnter,\n      value: value,\n      disabled: !!disabled\n    });\n  }\n\n  function handleTouchStart() {\n    send({\n      type: ListboxEvents.OptionTouchStart,\n      value: value,\n      disabled: !!disabled\n    });\n  }\n\n  function handleMouseLeave() {\n    send({\n      type: ListboxEvents.ClearNavSelection\n    });\n  }\n\n  function handleMouseDown(event) {\n    // Prevent blur event from firing and bubbling to the popover\n    if (!isRightClick(event.nativeEvent)) {\n      event.preventDefault();\n      send({\n        type: ListboxEvents.OptionMouseDown\n      });\n    }\n  }\n\n  function handleMouseUp(event) {\n    if (!isRightClick(event.nativeEvent)) {\n      send({\n        type: ListboxEvents.OptionMouseUp,\n        value: value,\n        callback: onValueChange,\n        disabled: !!disabled\n      });\n    }\n  }\n\n  function handleMouseMove() {\n    // We don't really *need* these guards since we put all of our transition\n    // logic in the state machine, but in this case it seems wise not to\n    // needlessly run our transitions every time the user's mouse moves. Seems\n    // like a lot. üôÉ\n    if (state === ListboxStates.Open || navigationValue !== value) {\n      send({\n        type: ListboxEvents.OptionMouseMove,\n        value: value,\n        disabled: !!disabled\n      });\n    }\n  }\n\n  return React.createElement(Comp // In a single-select listbox, the selected option has `aria-selected`\n  // set to `true`.\n  // https://www.w3.org/TR/wai-aria-practices-1.2/#Listbox\n  , Object.assign({\n    \"aria-selected\": (isExpanded ? isHighlighted : isSelected) || undefined,\n    \"aria-disabled\": disabled || undefined,\n    // Each option in the listbox has role `option` and is a DOM descendant\n    // of the element with role `listbox`.\n    // https://www.w3.org/TR/wai-aria-practices-1.2/#Listbox\n    role: \"option\"\n  }, props, {\n    ref: ref,\n    id: useOptionId(value),\n    \"data-reach-listbox-option\": \"\",\n    \"data-current\": isSelected ? \"\" : undefined,\n    \"data-label\": label,\n    \"data-value\": value,\n    onMouseDown: wrapEvent(onMouseDown, handleMouseDown),\n    onMouseEnter: wrapEvent(onMouseEnter, handleMouseEnter),\n    onMouseLeave: wrapEvent(onMouseLeave, handleMouseLeave),\n    onMouseMove: wrapEvent(onMouseMove, handleMouseMove),\n    onMouseUp: wrapEvent(onMouseUp, handleMouseUp),\n    onTouchStart: wrapEvent(onTouchStart, handleTouchStart)\n  }), children);\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ListboxOption.displayName = \"ListboxOption\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * ListboxGroup\r\n *\r\n * A group of related listbox options.\r\n *\r\n * @see Docs https://reach.tech/listbox#listboxgroup\r\n */\n\n\nvar ListboxGroup = /*#__PURE__*/forwardRef(function ListboxGroup(_ref9, forwardedRef) {\n  var label = _ref9.label,\n      children = _ref9.children,\n      props = _objectWithoutPropertiesLoose(_ref9, [\"label\", \"children\"]);\n\n  var _useContext6 = useContext(ListboxContext),\n      listboxId = _useContext6.listboxId;\n\n  var labelId = makeId(\"label\", useId(props.id), listboxId);\n  return React.createElement(ListboxGroupContext.Provider, {\n    value: {\n      labelId: labelId\n    }\n  }, React.createElement(\"div\", Object.assign({\n    \"aria-labelledby\": labelId,\n    // Identifies a group of related options\n    // https://www.w3.org/TR/wai-aria-practices-1.2/examples/listbox/listbox-grouped.html\n    role: \"group\"\n  }, props, {\n    \"data-reach-listbox-group\": \"\",\n    ref: forwardedRef\n  }), label && React.createElement(ListboxGroupLabel, null, label), children));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ListboxGroup.displayName = \"ListboxGroup\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * ListboxGroupLabel\r\n *\r\n * @see Docs https://reach.tech/listbox#listboxgrouplabel\r\n */\n\n\nvar ListboxGroupLabel = /*#__PURE__*/forwardRefWithAs(function ListboxGroupLabel(_ref10, forwardedRef) {\n  var _ref10$as = _ref10.as,\n      Comp = _ref10$as === void 0 ? \"span\" : _ref10$as,\n      props = _objectWithoutPropertiesLoose(_ref10, [\"as\"]);\n\n  var _useContext7 = useContext(ListboxGroupContext),\n      labelId = _useContext7.labelId;\n\n  return React.createElement(Comp // See examples\n  // https://www.w3.org/TR/wai-aria-practices-1.2/examples/listbox/listbox-grouped.html\n  , Object.assign({\n    // See examples\n    // https://www.w3.org/TR/wai-aria-practices-1.2/examples/listbox/listbox-grouped.html\n    role: \"presentation\"\n  }, props, {\n    ref: forwardedRef,\n    \"data-reach-listbox-group-label\": \"\",\n    id: labelId\n  }));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  ListboxGroupLabel.displayName = \"ListboxGroupLabel\";\n} ////////////////////////////////////////////////////////////////////////////////\n\n/**\r\n * A hook that exposes data for a given `Listbox` component to its descendants.\r\n *\r\n * @see Docs https://reach.tech/listbox#uselistboxcontext\r\n */\n\n\nfunction useListboxContext() {\n  var _useContext8 = useContext(ListboxContext),\n      highlightedOptionRef = _useContext8.highlightedOptionRef,\n      listboxId = _useContext8.listboxId,\n      listboxValueLabel = _useContext8.listboxValueLabel,\n      isExpanded = _useContext8.isExpanded,\n      selectedOptionRef = _useContext8.selectedOptionRef,\n      value = _useContext8.stateData.value;\n\n  return useMemo(function () {\n    return {\n      id: listboxId,\n      isExpanded: isExpanded,\n      selectedOptionRef: selectedOptionRef,\n      highlightedOptionRef: highlightedOptionRef,\n      value: value,\n      valueLabel: listboxValueLabel\n    };\n  }, [listboxId, isExpanded, value, listboxValueLabel, selectedOptionRef, highlightedOptionRef]);\n} ////////////////////////////////////////////////////////////////////////////////\n\n\nfunction isListboxExpanded(state) {\n  return [ListboxStates.Navigating, ListboxStates.Open, ListboxStates.Dragging, ListboxStates.Interacting].includes(state);\n}\n\nfunction useKeyDown() {\n  var _useContext9 = useContext(ListboxContext),\n      listboxDisabled = _useContext9.disabled,\n      onValueChange = _useContext9.onValueChange,\n      _useContext9$stateDat = _useContext9.stateData,\n      navigationValue = _useContext9$stateDat.navigationValue,\n      typeaheadQuery = _useContext9$stateDat.typeaheadQuery,\n      send = _useContext9.send;\n\n  var options = useDescendants(ListboxDescendantContext);\n  useEffect(function () {\n    if (typeaheadQuery) {\n      send({\n        type: ListboxEvents.UpdateAfterTypeahead,\n        query: typeaheadQuery,\n        callback: onValueChange\n      });\n    }\n\n    var timeout = window.setTimeout(function () {\n      if (typeaheadQuery != null) {\n        send({\n          type: ListboxEvents.ClearTypeahead\n        });\n      }\n    }, 1000);\n    return function () {\n      window.clearTimeout(timeout);\n    };\n  }, [onValueChange, send, typeaheadQuery]);\n  var index = options.findIndex(function (_ref11) {\n    var value = _ref11.value;\n    return value === navigationValue;\n  });\n  var handleKeyDown = wrapEvent(function (event) {\n    var key = event.key;\n    var isSearching = isString(key) && key.length === 1;\n    var navOption = options.find(function (option) {\n      return option.value === navigationValue;\n    });\n\n    switch (key) {\n      case \"Enter\":\n        send({\n          type: ListboxEvents.KeyDownEnter,\n          value: navigationValue,\n          callback: onValueChange,\n          disabled: !!((navOption === null || navOption === void 0 ? void 0 : navOption.disabled) || listboxDisabled)\n        });\n        return;\n\n      case \" \":\n        // Prevent browser from scrolling down\n        event.preventDefault();\n        send({\n          type: ListboxEvents.KeyDownSpace,\n          value: navigationValue,\n          callback: onValueChange,\n          disabled: !!((navOption === null || navOption === void 0 ? void 0 : navOption.disabled) || listboxDisabled)\n        });\n        return;\n\n      case \"Escape\":\n        send({\n          type: ListboxEvents.KeyDownEscape\n        });\n        return;\n\n      case \"Tab\":\n        var eventType = event.shiftKey ? ListboxEvents.KeyDownShiftTab : ListboxEvents.KeyDownTab;\n        send({\n          type: eventType\n        });\n        return;\n\n      default:\n        if (isSearching) {\n          send({\n            type: ListboxEvents.KeyDownSearch,\n            query: key,\n            disabled: listboxDisabled\n          });\n        }\n\n        return;\n    }\n  }, useDescendantKeyDown(ListboxDescendantContext, {\n    currentIndex: index,\n    orientation: \"vertical\",\n    key: \"index\",\n    rotate: true,\n    filter: function filter(option) {\n      return !option.disabled;\n    },\n    callback: function callback(nextIndex) {\n      send({\n        type: ListboxEvents.KeyDownNavigate,\n        value: options[nextIndex].value,\n        disabled: listboxDisabled\n      });\n    }\n  }));\n  return handleKeyDown;\n}\n\nfunction useOptionId(value) {\n  var _useContext10 = useContext(ListboxContext),\n      listboxId = _useContext10.listboxId;\n\n  return value ? makeId(\"option-\" + value, listboxId) : undefined;\n}\n\nfunction targetIsInPopover(element, popover) {\n  return !!(element === popover || (popover === null || popover === void 0 ? void 0 : popover.contains(element)));\n}\n\nfunction useControlledStateSync(controlPropValue, internalValue, send) {\n  var _useRef = useRef(controlPropValue != null),\n      isControlled = _useRef.current;\n\n  if (isControlled && controlPropValue !== internalValue) {\n    send();\n  }\n}\n\nexport { Listbox, ListboxArrow, ListboxButton, ListboxGroup, ListboxGroupLabel, ListboxInput, ListboxList, ListboxOption, ListboxPopover, useListboxContext };","import React, { forwardRef } from 'react';\n/**\r\n * Welcome to @reach/visually-hidden!\r\n *\r\n * Provides text for screen readers that is visually hidden.\r\n * It is the logical opposite of the `aria-hidden` attribute.\r\n *\r\n * @see https://snook.ca/archives/html_and_css/hiding-content-for-accessibility\r\n * @see https://a11yproject.com/posts/how-to-hide-content/\r\n * @see Docs     https://reach.tech/visually-hidden\r\n * @see Source   https://github.com/reach/reach-ui/tree/main/packages/visually-hidden\r\n */\n\n/**\r\n * VisuallyHidden\r\n *\r\n * Provides text for screen readers that is visually hidden.\r\n * It is the logical opposite of the `aria-hidden` attribute.\r\n */\n\nvar VisuallyHidden = /*#__PURE__*/forwardRef(function VisuallyHidden(props, ref) {\n  return React.createElement(\"span\", Object.assign({\n    ref: ref,\n    style: {\n      border: 0,\n      clip: \"rect(0 0 0 0)\",\n      height: \"1px\",\n      margin: \"-1px\",\n      overflow: \"hidden\",\n      padding: 0,\n      position: \"absolute\",\n      width: \"1px\",\n      // https://medium.com/@jessebeach/beware-smushed-off-screen-accessible-text-5952a4c2cbfe\n      whiteSpace: \"nowrap\",\n      wordWrap: \"normal\"\n    }\n  }, props));\n});\n\nif (process.env.NODE_ENV !== \"production\") {\n  VisuallyHidden.displayName = \"VisuallyHidden\";\n}\n\nexport default VisuallyHidden;","import React from 'react';\nimport T from 'prop-types';\nimport styled, { css } from 'styled-components';\nimport { rgba } from 'polished';\n\nimport { disabled, visuallyHidden } from '../helpers';\nimport { themeVal, stylizeFunction } from '../utils/general';\n// import collecticon from '../collecticons';\n\nconst _rgba = stylizeFunction(rgba);\n\n/**\n * Renders a FormCheckable component.\n *\n * @param {string} type Determines the type of input to render. Can be one of\n *                      `checkbox` or `radio`\n * @param {string} name (html prop) name to be used as `name` prop of\n *                      the element\n * @param {string} id (html prop) id to be used as `id` prop of the element\n * @param {string} title (html prop) Label's title attribute\n * @param {boolean} checked Whether or not the FormCheckable is checked\n * @param {func} onChange Change callbalck for the FormCheckable\n * @param {node} children Textual content\n * @param {string} textPlacement Where to position the text. `left` or `right`\n *                  of the control. Default to `right`\n */\nconst FormCheckableElement = (props) => {\n  const {\n    children,\n    id,\n    name,\n    title,\n    type,\n    checked,\n    onChange,\n    className,\n    textPlacement,\n    hideText\n  } = props;\n\n  return (\n    <label htmlFor={id} className={className} title={title}>\n      <input\n        type={type}\n        name={name}\n        id={id}\n        value='On'\n        checked={checked}\n        onChange={onChange}\n      />\n      {textPlacement === 'right' && <FormCheckableControl />}\n      <FormCheckableText hideText={hideText}>{children}</FormCheckableText>\n      {textPlacement === 'left' && <FormCheckableControl />}\n    </label>\n  );\n};\n\nFormCheckableElement.propTypes = {\n  name: T.string.isRequired,\n  id: T.string.isRequired,\n  textPlacement: T.string,\n  hideText: T.bool,\n  className: T.string,\n  title: T.string,\n  type: T.oneOf(['checkbox', 'radio']),\n  checked: T.bool,\n  children: T.node.isRequired,\n  onChange: T.func\n};\n\nFormCheckableElement.defaultProps = {\n  textPlacement: 'right'\n};\n\nconst formCheckableWrapper = css`\n  display: inline-grid;\n  grid-auto-columns: max-content;\n  grid-auto-flow: column;\n  grid-gap: 0.5rem;\n  font-size: 1rem;\n  line-height: 1.5;\n  cursor: pointer;\n  vertical-align: top;\n  input {\n    flex: none;\n  }\n`;\n\nconst FormCheckableText = styled.span`\n  line-height: 1.5;\n\n  /* Hide Text */\n  ${({ hideText }) => hideText &&\n    visuallyHidden()\n  }\n`;\n\nconst FormCheckableControl = styled.span`\n  position: relative;\n  transition: all 0.16s ease 0s;\n`;\n\nexport const FormCheckable = styled(FormCheckableElement)`\n  ${formCheckableWrapper}\n  input {\n    ${visuallyHidden()}\n  }\n  ${FormCheckableControl} {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 0.125rem 0;\n    height: 1.25rem;\n    width: 1.25rem;\n    background: #fff;\n    line-height: 1;\n    border: ${themeVal('layout.border')} solid ${_rgba(themeVal('color.base'), 0.16)};\n    border-radius: ${({ type }) => (type === 'checkbox' ? themeVal('shape.square') : themeVal('shape.ellipsoid'))};\n    &::before {\n      transition: all 0.24s ease 0s;\n      opacity: 0;\n      ${({ type }) => (type === 'checkbox' ? css`\n        content: '';\n        height: 0.75rem;\n        width: 0.75rem;\n        background: ${themeVal('color.baseMed')};\n        border-radius: ${themeVal('shape.square')};\n      ` : css`\n        content: '';\n        height: 0.5rem;\n        width: 0.5rem;\n        background: ${themeVal('color.base')};\n        border-radius: ${themeVal('shape.square')};\n      `)}\n    }\n  }\n  &:hover ${FormCheckableControl} {\n    border-width: ${themeVal('layout.border')};\n    border-color: ${_rgba(themeVal('color.base'), 0.32)};\n  }\n  ${({ invalid }) => invalid && css`\n    ${FormCheckableControl} {\n      border-width: ${themeVal('layout.border')};\n      border-color: ${themeVal('color.danger')};\n    }\n    &:hover ${FormCheckableControl},\n    &:focus ${FormCheckableControl},\n    &:active ${FormCheckableControl} {\n      border-color: ${themeVal('color.danger')};\n    }\n  `}\n  input:focus ~ ${FormCheckableControl},\n  input:active ~ ${FormCheckableControl} { /* stylelint-disable-line */\n    outline: 0;\n    border-width: ${themeVal('layout.border')};\n    border-color: ${_rgba(themeVal('color.base'), 0.64)};\n  }\n  ${({ checked }) => (checked ? `${FormCheckableControl},` : '')}\n  input:checked ~ ${FormCheckableControl} { /* stylelint-disable-line */\n    &::before {\n      opacity: 1;\n    }\n  }\n  &[disabled] {\n    ${disabled()}\n  }\n`;\n\nexport const FormCheckableGroup = styled.div`\n  display: flex;\n  flex-flow: row wrap;\n  > * {\n    margin: 0.25rem 1rem 0.25rem 0;\n  }\n`;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport {\n  ListboxInput,\n  ListboxButton,\n  ListboxPopover,\n  ListboxList,\n  ListboxOption,\n  ListboxGroup,\n  ListboxGroupLabel,\n} from \"@reach/listbox\"\nimport VisuallyHidden from \"@reach/visually-hidden\"\nimport styled from \"styled-components\"\nimport { themeVal } from \"../styles/utils/general\"\nimport { antialiased } from \"../styles/helpers\"\nimport { FormCheckable } from \"../styles/form/checkable\"\n\nconst FilterItem = styled(ListboxOption)`\n  display: flex;\n  cursor: pointer;\n  font-family: ${themeVal(\"type.heading.family\")};\n  font-weight: ${themeVal(\"type.heading.regular\")};\n  font-size: 0.875rem;\n  padding: 0.5rem 1rem;\n  align-items: center;\n\n  &:hover,\n  &:active {\n    background: ${themeVal(\"color.primary\")};\n    [data-selected] {\n      background: ${themeVal(\"color.primary\")};\n    }\n  }\n`\n\nconst FilterListHeader = styled(ListboxGroupLabel)`\n  font-family: ${themeVal(\"type.heading.family\")};\n  font-weight: ${themeVal(\"type.heading.bold\")};\n  padding: 1rem;\n`\n\nconst FilterButton = styled(ListboxButton)`\n  ${antialiased()}\n  user-select: none;\n  display: inline-block;\n  text-align: center;\n  white-space: nowrap;\n  vertical-align: middle;\n  line-height: 2rem;\n  font-size: 1rem;\n  padding: 0.5rem 2.5rem 0.5rem 1.5rem;\n  width: 100%;\n  background: none;\n  text-shadow: none;\n  border: 0;\n  font-family: ${themeVal(\"type.heading.family\")};\n  font-weight: ${themeVal(\"type.heading.bold\")};\n  cursor: pointer;\n  position: relative;\n  border: solid 1px ${themeVal(\"color.baseMed\")};\n  &:after {\n    content: \"\";\n    position: absolute;\n    border: solid black;\n    border-width: 0 2px 2px 0;\n    padding: 4px;\n    top: 1.125rem;\n    right: 1.5rem;\n    transform: rotate(45deg);\n  }\n  &:hover {\n    background: ${themeVal(\"color.mist\")};\n    border-color: ${themeVal(\"color.base\")};\n  }\n`\n\nconst FilterPopover = styled(ListboxPopover)`\n  max-height: 24rem;\n  overflow-y: auto;\n  overflow-y: overlay;\n  overflow-x: hidden;\n  min-width: 26rem;\n  background: white;\n  border: solid 1px black;\n  &:active,\n  &:focus {\n    outline-color: ${themeVal(\"color.primary\")};\n  }\n`\nfunction Filter({ title, type, options, selected, setFilter }) {\n  const selectedIds = selected[type] ? selected[type] : []\n\n  return (\n    <>\n      <VisuallyHidden id=\"filter-guide\">Filter by {title}</VisuallyHidden>\n      <ListboxInput\n        name=\"filter\"\n        aria-labelledby=\"filter-guide\"\n        onChange={value => {\n          if (selectedIds.includes(value)) {\n            setFilter({\n              ...selected,\n              [type]: selected[type].filter(f => f !== value),\n            })\n            // removeFilter(value)\n          } else {\n            setFilter({\n              ...selected,\n              [type]: [...selected[type], value],\n            })\n            // addFilter(value)\n          }\n        }}\n      >\n        <FilterButton title={`Filter by ${title}`}>{title}</FilterButton>\n        <FilterPopover>\n          <ListboxList>\n            <ListboxGroup>\n              <FilterListHeader>{title}</FilterListHeader>\n              {options.map(option => (\n                <FilterItem\n                  key={option.id}\n                  value={option.id}\n                  selected={!!selectedIds.includes(option.id)}\n                >\n                  <FormCheckable\n                    type=\"checkbox\"\n                    id={option.id}\n                    name={option.id}\n                    checked={selectedIds.includes(option.id)}\n                    readOnly\n                  ></FormCheckable>\n                  {option.label || option.id}\n                </FilterItem>\n              ))}\n            </ListboxGroup>\n          </ListboxList>\n        </FilterPopover>\n      </ListboxInput>\n    </>\n  )\n}\n\nFilter.propTypes = {\n  title: PropTypes.string,\n  type: PropTypes.string,\n  options: PropTypes.array,\n  selected: PropTypes.object,\n  setFilter: PropTypes.func,\n}\n\nexport default Filter\n","import React, { useState, useEffect } from \"react\"\nimport PropTypes from \"prop-types\"\nimport styled from \"styled-components\"\nimport Filter from \"./filter\"\nimport media from \"../styles/utils/media-queries\"\nimport Button from \"../styles/button/button\"\nimport { themeVal } from \"../styles/utils/general\"\n\nconst FilterSection = styled.section`\n  display: flex;\n  justify-content: start;\n  align-items: stretch;\n  flex-flow: column nowrap;\n  ${media.mediumUp`\n    flex-flow: row wrap;\n    align-items: baseline;\n  `}\n  [data-reach-listbox-input] {\n    margin-bottom: 1rem;\n    ${media.mediumUp`\n        margin-right: 1rem;\n      `}\n  }\n`\n\nconst FilterHeading = styled.h5`\n  flex-basis: 100%;\n  margin-bottom: 0.5rem;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n  opacity: 0.8;\n  font-size: 0.875rem;\n  font-weight: bold;\n`\n\nconst FilterChips = styled.section`\n  flex-basis: 100%;\n  display: flex;\n  flex-flow: column nowrap;\n  ${media.mediumUp`\n    flex-flow: row wrap;\n  `}\n`\n\nconst FilterChip = styled.aside`\n  display: flex;\n  flex-basis: 100%;\n  align-items: baseline;\n  flex-flow: row wrap;\n`\n\nconst ChipHeading = styled.p`\n  display: inline-block;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n  font-size: 0.875rem;\n  color: ${themeVal(\"color.baseMed\")};\n  margin: 0;\n  margin-right: 1rem;\n`\n\nconst ChipButton = styled(Button)`\n  & ~ & {\n    margin-left: 0.5rem;\n  }\n  span:after {\n    content: '\\\\2715';\n    font-size: 0.875rem;\n    margin-left: 0.5rem;\n    opacity: 0.4;\n  }\n`\n\n/*\n  Creates a new set of methods for the guide.\n*/\nconst createGuides = (methodIds, fullGuide, activitiesInCustomGuide) => {\n  const newGuide = {}\n  // creates guide with active methods\n  methodIds.forEach(id => (newGuide[id] = fullGuide[id]))\n  // updates guide with activities that are currently checked\n  activitiesInCustomGuide.forEach(method => {\n    if(newGuide[method.id]) {\n      newGuide[method.id].activities = method.activities\n    } else {\n      newGuide[method.id] = method\n      newGuide[method.id].filterDoesNotApply = true\n    }\n\n  })\n  return newGuide\n}\n\n/*\n  Takes all filters, computes filteres from state to method ids.\n*/\nconst findMethodIds = (filters, guide) => {\n  // Takes array of tests for each respective property\n  const findProperty = propertyTests =>\n    Object.values(guide)\n      .filter(({ activities }) => {\n        return propertyTests.some(propertyTest => propertyTest(activities))\n      })\n      .map(({ id }) => id)\n\n  return Array.from(\n    new Set([\n      ...filters.methods,\n      // Activities\n      ...findProperty([\n        activities =>\n          filters.activities.some(\n            selectedActivities => activities[selectedActivities]\n          ),\n        // OrgSize\n        activities => {\n          const maxNumber = Math.max(...filters.orgSize)\n          return Object.values(activities).some(\n            ({ orgSize }) => orgSize <= maxNumber\n          )\n        },\n        // Approaches\n        activities => {\n          return Object.values(activities).some(({ approaches }) =>\n            approaches.some(approach => filters.approaches.includes(approach))\n          )\n        },\n        // Remote Options\n        activities => {\n          return Object.values(activities).some(({ remoteOptions }) =>\n            remoteOptions.some(option => filters.remoteOptions.includes(option))\n          )\n        },\n      ]),\n    ])\n  )\n}\n\nconst initialFilterState = {\n  methods: [],\n  activities: [],\n  orgSize: [],\n  approaches: [],\n  remoteOptions: [],\n}\n\nfunction Filters({ fullGuide, activitiesInCustomGuide, setGuide, activities }) {\n  const [selectedFilters, setFilter] = useState(initialFilterState)\n  const [allActivities, setAllActivities] = useState([])\n\n  // used because activities get reset to undefined at some point - will investigate later\n  useEffect(() => {\n    activities &&\n      setAllActivities(\n        activities.map(activity => ({\n          id: activity.id,\n        }))\n      )\n  }, [activities])\n\n  useEffect(() => {\n    if (!Object.values(selectedFilters).flat().length) {\n      setGuide(fullGuide)\n    } else {\n      setGuide(\n        createGuides(findMethodIds(selectedFilters, fullGuide), fullGuide, activitiesInCustomGuide)\n      )\n    }\n  }, [selectedFilters])\n\n  return (\n    <FilterSection>\n      <FilterHeading>Filters</FilterHeading>\n      <Filter\n        title=\"Methods\"\n        type=\"methods\"\n        options={Object.keys(fullGuide).map(method => ({ id: method }))}\n        selected={selectedFilters}\n        setFilter={setFilter}\n      />\n      <Filter\n        title=\"Activities\"\n        type=\"activities\"\n        options={allActivities}\n        selected={selectedFilters}\n        setFilter={setFilter}\n      />\n      <Filter\n        title=\"Org Size\"\n        type=\"orgSize\"\n        options={[\n          { id: 25, label: \"<= 25 people\" },\n          { id: 50, label: \"<= 50\" },\n          { id: 100, label: \"<= 100\" },\n          { id: 200, label: \"<= 200\" },\n          { id: 1000, label: \"<= 1000\" },\n        ]}\n        selected={selectedFilters}\n        setFilter={setFilter}\n      />\n      <Filter\n        title=\"Approaches\"\n        type=\"approaches\"\n        options={[\n          { id: \"Technical\" },\n          { id: \"Interpersonal\" },\n          { id: \"Research\" },\n        ]}\n        selected={selectedFilters}\n        setFilter={setFilter}\n      />\n      <Filter\n        title=\"Remote Options\"\n        type=\"remoteOptions\"\n        options={[\n          { id: \"Yes\", label: \"Yes\" },\n          { id: \"Complete\", label: \"Complete\" },\n          { id: \"Partial\", label: \"Partial\" },\n          { id: \"with-support\", label: \"With Support\" },\n          { id: \"None\", label: \"No Options\" },\n        ]}\n        selected={selectedFilters}\n        setFilter={setFilter}\n      />\n\n      {Object.values(selectedFilters).flat().length ? (\n        <Button\n          type=\"submit\"\n          size=\"xlarge\"\n          variation=\"danger-plain\"\n          title=\"Clear all filters\"\n          onClick={() => setFilter(initialFilterState)}\n        >\n          Clear Filters\n        </Button>\n      ) : null}\n      <FilterChips>\n        {Object.entries(selectedFilters).map(filter => {\n          const [filterKey, filterValues] = filter\n          if (filterValues.length) {\n            return (\n              <FilterChip>\n                <ChipHeading>{filterKey}</ChipHeading>\n                {\n                  filterValues.map(value => {\n                    return ( \n                      <ChipButton\n                        variation=\"primary-plain\"\n                        key={value}\n                        onClick={() => setFilter({...selectedFilters, [filterKey]: filterValues.filter(f => f !== value)})}\n                      >\n                        {filterKey === \"orgSize\" ? `<= ${value}` : value}\n                      </ChipButton> \n                    )\n                  })\n                }\n              </FilterChip>\n            )\n          }\n        })}\n      </FilterChips>\n    </FilterSection>\n  )\n}\n\nFilters.propTypes = {\n  fullGuide: PropTypes.object,\n  activitiesInCustomGuide: PropTypes.array,\n  setGuide: PropTypes.func,\n  activities: PropTypes.object,\n}\n\nexport default Filters\n","import React, { useState } from \"react\"\nimport PropTypes from \"prop-types\"\nimport styled from \"styled-components\"\nimport Button from \"../styles/button/button\"\n\nconst SearchFilters = styled.form`\n  display: flex;\n  justify-content: space-between;\n  flex-flow: row wrap;\n  margin-bottom: 1.5rem;\n  input {\n    flex: 1;\n    padding: 0.5rem 1rem;\n  }\n  ${Button} {\n    margin-left: 1rem;\n  }\n`\nconst SearchHeading = styled.label`\n  flex-basis: 100%;\n  margin-bottom: 0.5rem;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n  opacity: 0.8;\n  font-size: 0.875rem;\n  font-weight: bold;\n`\n\nfunction Search({ fullGuide, setGuide, setNoResults }) {\n  const [searchTerm, setSearchTerm] = useState(\"\")\n\n  const handleChange = event => {\n    setSearchTerm(event.target.value)\n  }\n\n  return (\n    <SearchFilters\n      onSubmit={e => {\n        e.preventDefault()\n        const filteredMethodList = Object.keys(fullGuide).filter(methodId =>\n          methodId.toLowerCase().includes(searchTerm.toLowerCase())\n        )\n        if (filteredMethodList.length) {\n          const newGuide = {}\n          filteredMethodList.forEach(id => (newGuide[id] = fullGuide[id]))\n          setGuide(newGuide)\n        } else {\n          setNoResults(true)\n          setTimeout(() => {\n            setNoResults(false)\n          }, 5000)\n          setSearchTerm(\"\")\n        }\n      }}\n    >\n      <SearchHeading htmlFor=\"search\" id=\"search\">\n        Search\n      </SearchHeading>\n      <input\n        name=\"search\"\n        type=\"text\"\n        value={searchTerm}\n        onChange={handleChange}\n        placeholder=\"Search method titles\"\n      />\n      <Button\n        type=\"submit\"\n        size=\"xlarge\"\n        variation=\"base-raised-semidark\"\n        title=\"Enter search terms\"\n      >\n        Search\n      </Button>\n    </SearchFilters>\n  )\n}\n\nSearch.propTypes = {\n  fullGuide: PropTypes.object,\n  setGuide: PropTypes.function,\n  setNoResults: PropTypes.function,\n}\n\nexport default Search\n","import styled from 'styled-components';\nimport { themeVal } from '../utils/general';\n\nconst Form = styled.form`\n  display: grid;\n  grid-template-rows: auto;\n  grid-gap: ${themeVal('layout.space')};\n`;\n\nexport default Form;\n","import styled from 'styled-components';\nimport { themeVal } from '../utils/general';\nimport { divide } from '../utils/math';\n\nexport const FormGroup = styled.div`\n  display: grid;\n  grid-template-rows: auto;\n  grid-gap: ${divide(themeVal('layout.space'), 2)};\n`;\n\nexport const FormGroupHeader = styled.div`\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-between;\n`;\n\nexport const FormGroupBody = styled.div`\n  display: grid;\n  grid-template-rows: auto;\n  grid-gap: ${divide(themeVal('layout.space'), 4)};\n`;\n","import React from 'react';\nimport T from 'prop-types';\nimport styled from 'styled-components';\n\nimport { themeVal } from '../utils/general';\n\nconst LabelHint = styled.small`\n  font-weight: ${themeVal('type.base.weight')};\n  font-size: 0.75rem;\n  line-height: 1;\n  opacity: 0.64;\n`;\n\nconst LabelBase = ({\n  children, optional, ...rest\n}) => (\n  <label {...rest}>\n    {children}\n    {optional && '\\u00A0'}\n    {optional && (<LabelHint>(optional)</LabelHint>)}\n  </label>\n);\n\nLabelBase.propTypes = {\n  children: T.node,\n  optional: T.bool\n};\n\nconst FormLabel = styled(LabelBase)`\n  display: inline-flex;\n  align-items: center;\n  font-family: ${themeVal('type.base.family')};\n  font-weight: ${themeVal('type.base.bold')};\n  font-size: 1rem;\n  line-height: 1.5;\n\n  &[for] {\n    cursor: pointer;\n  }\n`;\n\nexport default FormLabel;\n","import React, { useState, useEffect } from \"react\"\nimport PropTypes from \"prop-types\"\nimport styled from \"styled-components\"\nimport pickBy from \"lodash.pickby\"\nimport values from \"lodash.values\"\nimport MoreLink from \"../styles/button/more-link\"\nimport queryString from 'query-string'\n\nimport {useQueryParams} from 'use-query-params';\n\nimport GlobalLayout from \"../components/layouts/global-layout\"\nimport SEO from \"../components/seo\"\nimport Filters from \"../components/filters\"\nimport Search from \"../components/search\"\nimport useAllGuideData from \"../helpers/useAllGuideData\"\nimport { prepareGuide } from \"../helpers/generate-guide\"\n\nimport {\n  Inpage,\n  InpageHeader,\n  InpageHeaderInner,\n  InpageTitle,\n  InpageBody,\n  InpageBodyInner,\n  InpageInnerColumns,\n} from \"../styles/inpage\"\nimport Button from \"../styles/button/button\"\nimport Card from \"../styles/card\"\nimport Form from \"../styles/form/form\"\nimport { FormGroup, FormGroupHeader, FormGroupBody } from \"../styles/form/group\"\nimport { FormCheckableGroup, FormCheckable } from \"../styles/form/checkable\"\nimport FormLabel from \"../styles/form/label\"\nimport media from \"../styles/utils/media-queries\"\nimport { themeVal } from \"../styles/utils/general\"\n\nconst SplitPanels = styled(InpageInnerColumns)`\n  ${media.mediumUp`\n    gap: 0.5rem;\n  `}\n`\n\nconst Panel = styled(Card)`\n  display: flex;\n  width: 100%;\n  min-height: 60vh;\n  max-height: 100vh;\n  overflow-y: auto;\n  overflow-y: overlay;\n  padding: 1.5rem 1rem;\n  & > ${InpageTitle} {\n    margin-bottom: 1rem;\n  }\n  &:first-of-type {\n    background-color: ${themeVal(\"color.mist\")};\n    border-color: ${themeVal(\"color.baseLight\")};\n  }\n  /* override default card padding */\n  & > :last-child:not(:first-child) {\n    padding-top: 0;\n  }\n`\n\nconst GuideSelector = styled(Form)`\n  grid-template-columns: 100%;\n  ${FormGroup} {\n    margin-bottom: 1.5rem;\n    background: white;\n    padding: 2rem 1.5rem;\n    box-shadow: inset 0 0 1px 0 ${themeVal(\"color.base\")};\n    grid-template-columns: 100%;\n  }\n  ${FormGroupBody} {\n    grid-template-columns: 100%;\n  }\n  ${MoreLink} {\n    margin: 0.25rem 0 1rem;\n    text-align: right;\n    padding-right: 2rem;\n    opacity: 0.75;\n    &:after {\n      width: initial;\n    }\n    &:hover {\n      opacity: 0.875;\n    }\n  }\n  ${FormCheckableGroup} {\n    flex-flow: column nowrap;\n    align-items: flex-start;\n    ul {\n      list-style: none;\n      padding-left: 2rem;\n      max-width: 100%;\n      ${FormCheckable} {\n        margin-left: -2rem;\n        grid-auto-columns: inherit;\n      }\n    }\n    li {\n      padding-bottom: 1rem;\n    }\n  }\n`\nconst GuideSelected = styled.div`\n  display: flex;\n  flex-flow: column nowrap;\n  align-items: start;\n  padding-top: 2rem !important;\n  padding: 2rem 1rem 0;\n`\n\nconst MethodHeading = styled(FormLabel)`\n  font-size: 1.25rem;\n  font-family: ${themeVal(\"type.heading.family\")};\n  border-top: 2px solid ${themeVal(\"color.base\")};\n  border-bottom: 1px solid ${themeVal(\"color.base\")};\n  padding: 1rem 0 0.5rem;\n  margin-bottom: 1rem;\n  width: 100%;\n`\n\nconst ActivitiesSelector = styled.div`\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-between;\n  align-items: baseline;\n  width: 100%;\n  margin-bottom: 0.5rem;\n  ${Button} {\n    ${media.largeUp`\n      margin-left: 1rem;\n      &:first-of-type {\n        margin-left: auto;\n      }\n    `}\n  }\n`\n\nconst ActivitiesHeading = styled.h4`\n  margin: 0 0 1rem;\n  padding: 0.5rem 0;\n  font-family: ${themeVal(\"type.heading.family\")};\n  text-transform: uppercase;\n  border-bottom: 1px solid ${themeVal(\"color.base\")};\n  flex-basis: 100%;\n  ${FormCheckableGroup} > & {\n    margin: 1rem 0;\n  }\n  ${media.mediumUp`\n    flex: inherit;\n  `}\n`\n\nconst ActivityLine = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: baseline;\n  width: 100%;\n`\n\nconst ActivityTitle = styled.p`\n  font-family: ${themeVal(\"type.heading.family\")};\n  font-weight: ${themeVal(\"type.heading.weight\")};\n  margin: 0 0 0.5rem;\n`\n\nconst ActivityCheckable = styled(FormCheckable)`\n  grid-gap: 0.75rem;\n  span {\n    font-family: ${themeVal(\"type.heading.family\")};\n    font-weight: ${themeVal(\"type.heading.weight\")};\n  }\n  + div {\n    margin-top: 0.25rem;\n  }\n  & + & {\n    margin-top: 0.5rem;\n  }\n`\n\nconst ExportButtons = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(225px, 1fr));\n  gap: 1rem;\n`\n\nconst GuideBuilder = ({ location }) => {\n  const { fullGuide, activities, fixedSections } = useAllGuideData()\n  // Add the full guide to state\n  const [guide, setGuide] = useState(fullGuide)\n  const [isNoResults, setNoResults] = useState(false)\n  const [activitiesInCustomGuide, setActivitiesInCustomGuide] = useState([])\n  const [isCustomGuideLoading, setCustomGuideLoader] = useState(false)\n  const [isFullGuideLoading, setFullGuideLoader] = useState(false)\n\n    // eslint-disable-next-line no-unused-vars\n    const [query, setQuery] = useQueryParams({});\n  \n  \n    // adds selected activities to guide if any exist in url param on initial load\n    useEffect(() => {\n      if(location.search) {\n        const qs = queryString.parse(location.search)\n        const newGuide = Object.entries(qs).reduce((prev, [key, value]) => {\n          const values = value.split(',')\n          const checkedActivities = values.reduce((prev, curr) => {\n            return {\n              ...prev,\n              [curr]: {\n                ...guide[key].activities[curr],\n              checked: true,\n            }\n            }\n          }, {})\n  \n          return {\n            ...guide,\n            ...prev,\n            [key]: {\n              ...guide[key],\n              activities: {\n                ...guide[key].activities,\n                ...checkedActivities\n                }\n              }\n            }\n        }, {}) \n        setGuide(newGuide)\n    }\n    }, [])\n  \n    // stores list of selected activities to be references by url params and filter guide\n    useEffect(() => {\n      const activities = values(guide).filter(({ id, activities }) => {\n        const act = values(pickBy(activities, a => a.checked))\n        return act.length && {[id]: values(pickBy(activities, a => a.checked))} \n      })   \n      setActivitiesInCustomGuide(activities)\n    }, [guide])\n  \n    // sets url params as activities are selected\n    useEffect(() => {\n      if(activitiesInCustomGuide.length) {\n  \n        const allSelectedActivities = activitiesInCustomGuide.map(method => {\n          const activityArray = Object.values(method.activities)\n          .filter(activity => activity.checked)\n          .map(activity => activity.id)\n          return {[method.id]: activityArray}\n        })\n        setQuery(\n            allSelectedActivities.reduce((prev, curr) => {return {...prev, ...curr}}, {}),\n          'push'\n        )\n      } else {\n        setQuery({},'replace')\n      }\n  \n    }, [activitiesInCustomGuide])\n\n  const selectMultipleActivities = (methodId, allOrNone) => {\n    const allActivities = guide[methodId].activities\n    let newActivities = Object.entries(allActivities).reduce(\n      (prev, [key, activity]) => {\n        return { ...prev, [key]: { ...activity, checked: allOrNone === \"all\" } }\n      },\n      {}\n    )\n\n    setGuide({\n      ...guide,\n      [methodId]: {\n        ...guide[methodId],\n        activities: newActivities,\n      },\n    })\n  }\n\n  return (\n    <GlobalLayout>\n      <SEO title=\"Guide Creator\" />\n      <Inpage>\n        <InpageHeader>\n          <InpageHeaderInner>\n            <InpageTitle size=\"jumbo\" variation=\"primary\" withDeco>\n              Custom Guide Builder\n            </InpageTitle>\n          </InpageHeaderInner>\n        </InpageHeader>\n        <InpageBody>\n          <InpageBodyInner>\n            <Search\n              fullGuide={fullGuide}\n              setGuide={setGuide}\n              setNoResults={setNoResults}\n            />\n            <Filters\n              fullGuide={fullGuide}\n              activitiesInCustomGuide={activitiesInCustomGuide}\n              setGuide={setGuide}\n              activities={activities}\n              // initialFilters={queryString.parse(location.search)}\n            />\n          </InpageBodyInner>\n        </InpageBody>\n        <InpageBody>\n          <SplitPanels columnLayout=\"1:1\">\n            <Panel border=\"base\">\n              <InpageTitle size=\"xlarge\">\n                {fullGuide ? \"Full\" : \"Filtered\"} Safetag Guide Content\n              </InpageTitle>\n              {isNoResults && <p>No Search Results</p>}\n              <GuideSelector>\n                {values(guide).filter(method => !method.filterDoesNotApply).map(method => {\n                  return (\n                    <FormGroup key={method.id}>\n                      <FormGroupHeader>\n                        <MethodHeading>Method: {method.title}</MethodHeading>\n                      </FormGroupHeader>\n                      <FormGroupBody>\n                        <div>{method.summary.excerpt}</div>\n                        <MoreLink\n                          to={method.slug}\n                          state={{\n                            prevPath: location.pathname,\n                            prevPage: location.pathname + location.search,\n                          }}\n                        >\n                          Read More\n                        </MoreLink>\n                        <FormCheckableGroup>\n                          {method.activities[0] !== \"\" && (\n                            <ActivitiesSelector>\n                              <ActivitiesHeading>Activities</ActivitiesHeading>\n                              <Button\n                                variation=\"primary-plain\"\n                                title=\"Select all activities in this method\"\n                                onClick={() =>\n                                  selectMultipleActivities(method.id, \"all\")\n                                }\n                              >\n                                Select All\n                              </Button>\n                              <Button\n                                variation=\"danger-plain\"\n                                title=\"Deselect all activities in this method\"\n                                onClick={() =>\n                                  selectMultipleActivities(method.id, \"none\")\n                                }\n                              >\n                                Select None\n                              </Button>\n                            </ActivitiesSelector>\n                          )}\n                          <ul>\n                            {values(method.activities).map(activity => {\n                              const fieldId = `checkbox-${method.id}-${activity.id}`\n                              return (\n                                <li key={fieldId}>\n                                  <ActivityCheckable\n                                    type=\"checkbox\"\n                                    id={fieldId}\n                                    name={fieldId}\n                                    checked={activity.checked}\n                                    onChange={() => {\n                                      setGuide({\n                                        ...guide,\n                                        [method.id]: {\n                                          ...method,\n                                          activities: {\n                                            ...method.activities,\n                                            [activity.id]: {\n                                              ...activity,\n                                              checked: !activity.checked,\n                                            },\n                                          },\n                                        },\n                                      })\n                                    }}\n                                  >\n                                    {activity.title}\n                                  </ActivityCheckable>\n                                  <div>{activity.summary?.excerpt}</div>\n                                </li>\n                              )\n                            })}\n                          </ul>\n                        </FormCheckableGroup>\n                      </FormGroupBody>\n                    </FormGroup>\n                  )\n                })}\n              </GuideSelector>\n            </Panel>\n            <Panel border=\"base\">\n              <InpageTitle size=\"xlarge\">\n                Selected Safetag Guide Content\n              </InpageTitle>\n              <ExportButtons>\n                <Button\n                  size=\"xlarge\"\n                  variation=\"primary-raised-dark\"\n                  title=\"Export selected methods and activities as PDF\"\n                  onClick={async () => {\n                    setCustomGuideLoader(true)\n                    await prepareGuide(guide, 'custom-guide', fixedSections, false)\n                    // requires a small buffer period\n                    setTimeout(() => {\n                      setCustomGuideLoader(false)\n                    }, 1000)\n                  }}\n                  isSpinning={isCustomGuideLoading}\n                  spinnerColor=\"light\"\n                  disabled={isCustomGuideLoading || isFullGuideLoading || !activitiesInCustomGuide.length}\n                >\n                  {isCustomGuideLoading\n                    ? \"Exporting selected...\"\n                    : \"Export selected\"}\n                </Button>\n                <Button\n                  size=\"xlarge\"\n                  variation=\"base-plain\"\n                  title=\"Download full guide\"\n                  onClick={async () => {\n                    setFullGuideLoader(true)\n                    await prepareGuide(fullGuide, 'full-guide', fixedSections)\n                    // requires a small buffer period\n                    setTimeout(() => {\n                      setFullGuideLoader(false)\n                    }, 1000)\n                  }}\n                  isSpinning={isFullGuideLoading}\n                  spinnerColor=\"dark\"\n                  disabled={isCustomGuideLoading || isFullGuideLoading}\n                >\n                  {isFullGuideLoading\n                    ? \"Exporting Full Guide...\"\n                    : \"Download Full Guide\"}\n                </Button>\n              </ExportButtons>\n              {\n                !activitiesInCustomGuide.length &&\n                <GuideSelected>\n                  <h3>No sections selected</h3>\n                  <p>‚Üê Select activities from the panel to the left to build your custom guide</p>\n                </GuideSelected>\n              }\n              {values(guide).map(method => {\n                // Get selected activities from method, if any\n                const selectedActivities = values(\n                  pickBy(method.activities, a => a.checked)\n                )\n\n                // Bypass if method doesn't have any selected activities\n                if (selectedActivities.length === 0) return\n\n                return (\n                  <GuideSelected key={method.id}>\n                    <MethodHeading>Method: {method.title}</MethodHeading>\n                    <p>{method.summary.excerpt}</p>\n                    <ActivitiesHeading>Activities</ActivitiesHeading>\n                    {selectedActivities.map(activity => (\n                      <ActivityLine key={activity.id}>\n                        <ActivityTitle>{activity.title}</ActivityTitle>\n                        <Button\n                          variation=\"danger-plain\"\n                          title=\"Remove activity from selection\"\n                          onClick={() => {\n                            setGuide({\n                              ...guide,\n                              [method.id]: {\n                                ...method,\n                                activities: {\n                                  ...method.activities,\n                                  [activity.id]: {\n                                    ...activity,\n                                    checked: !activity.checked,\n                                  },\n                                },\n                              },\n                            })\n                          }}\n                        >\n                          &#10005;\n                        </Button>\n                      </ActivityLine>\n                    ))}\n                  </GuideSelected>\n                )\n              })}\n            </Panel>\n          </SplitPanels>\n        </InpageBody>\n      </Inpage>\n    </GlobalLayout>\n  )\n}\n\nexport default GuideBuilder\n\nGuideBuilder.propTypes = {\n  location: PropTypes.shape({\n    search: PropTypes.string,\n    pathname: PropTypes.string,\n  })\n\n}\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","'use strict';\nvar isArray = require('../internals/is-array');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\n\n// `FlattenIntoArray` abstract operation\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? bind(mapper, thisArg, 3) : false;\n  var element;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      if (depth > 0 && isArray(element)) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1FFFFFFFFFFFFF) throw TypeError('Exceed the acceptable array length');\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n};\n\nmodule.exports = flattenIntoArray;\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n"],"sourceRoot":""}